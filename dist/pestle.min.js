!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.pestle=e()}}(function(){var e;return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return r(n?n:t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({"./src/core.coffee":[function(e,t){!function(e,n){return t.exports=e.Pestle=n(e,{})}(window,function(t,n){var i,r;return i=e("./base.coffee"),r=e("./util/extmanager.coffee"),n=new i.Events,n.Module=e("./util/module.coffee"),n.modules={},n.Core=function(){function t(t){var n,o,s;null==t&&(t={}),this.setConfig(t),this.started=!1,this.extManager=new r,this.sandbox=i.util.clone(i),this.sandboxes={},n=e("./extension/components.coffee"),o=e("./extension/responsivedesign.coffee"),s=e("./extension/responsiveimages.coffee"),this.extManager.add(n),this.extManager.add(o),this.extManager.add(s)}return t.prototype.version="0.0.1",t.prototype.cfg={debug:{logLevel:5},namespace:"platform",extension:{},component:{}},t.prototype.addExtension=function(e){if(this.started)throw i.log.error("The Core has already been started. You can not add new extensions at this point."),new Error("You can not add extensions when the Core has already been started.");return this.extManager.add(e)},t.prototype.setConfig=function(e){var t;if(this.started)throw i.log.error("Pestle has already been started. You can not set up configs at this point."),new Error("You can not set up configs when Pestle has already started.");if(i.util.isObject(e))return this.config=i.util.isEmpty(this.config)?i.util.defaults(e,this.cfg):i.util.defaults(e,this.config);throw t="[setConfig method] only accept an object as a parameter and you're passing: "+typeof e,i.log.error(t),new Error(t)},t.prototype.setComponentConfig=function(e,t){var n;if(this.started)throw i.log.error("Pestle has already been started. You can not add new extensions at this point."),new Error("You can not add extensions when Pestle has already started.");if(!e||!i.util.isString(e))throw n="[setComponentConfig method] 1st param should be a string, you're passing:"+typeof t,i.log.error(n),new Error(n);if(i.util.isObject(t))return i.util.isEmpty(this.config)?(this.config=this.config||{},this.config.component[e]=i.util.defaults(t,this.cfg.component[e])):this.config.component[e]=i.util.defaults(t,this.config.component[e]);throw n="[setComponentConfig method] 2nd param should be an object & you're passing:"+typeof t,i.log.error(n),new Error(n)},t.prototype.start=function(e){var t;return null==e&&(e=""),i.log.setConfig(this.config.debug),this.started&&""!==e?(i.log.info("Pestle is initializing a component"),this.sandbox.startComponents(e,this)):(i.log.info("Pestle started the initializing process"),this.started=!0,this.extManager.init(this),t=$.Callbacks("unique memory"),i.util.each(this.extManager.getInitializedExtensions(),function(n){return function(r){return r&&(i.util.isFunction(r.afterAppStarted)&&r.activated&&("components"===r.optionKey?r.afterAppStarted(e,n):r.afterAppStarted(n)),i.util.isFunction(r.afterAppInitialized)&&r.activated)?t.add(r.afterAppInitialized):void 0}}(this)),t.fire(this))},t.prototype.createSandbox=function(e){return this.sandboxes[e]=i.util.extend({},this.sandbox,{name:e})},t.prototype.getInitializedComponents=function(){return this.sandbox.getInitializedComponents()},t}(),n})},{"./base.coffee":"/home/dirigaray/projects/pestle/src/base.coffee","./extension/components.coffee":"/home/dirigaray/projects/pestle/src/extension/components.coffee","./extension/responsivedesign.coffee":"/home/dirigaray/projects/pestle/src/extension/responsivedesign.coffee","./extension/responsiveimages.coffee":"/home/dirigaray/projects/pestle/src/extension/responsiveimages.coffee","./util/extmanager.coffee":"/home/dirigaray/projects/pestle/src/util/extmanager.coffee","./util/module.coffee":"/home/dirigaray/projects/pestle/src/util/module.coffee"}],"/home/dirigaray/projects/pestle/node_modules/cookies-js/src/cookies.js":[function(t,n,i){!function(t,r){"use strict";var o=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,n,i){return 1===arguments.length?t.get(e):t.set(e,n,i)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t.defaults={path:"/",secure:!1},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[t._cacheKeyPrefix+e]},t.set=function(e,n,i){return i=t._getExtendedOptions(i),i.expires=t._getExpiresDate(n===r?-1:i.expires),t._document.cookie=t._generateCookieString(e,n,i),t},t.expire=function(e,n){return t.set(e,r,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&e.secure!==r?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){switch(n=n||new Date,typeof e){case"number":e=new Date(n.getTime()+1e3*e);break;case"string":e=new Date(e)}if(e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var i=e+"="+t;return i+=n.path?";path="+n.path:"",i+=n.domain?";domain="+n.domain:"",i+=n.expires?";expires="+n.expires.toUTCString():"",i+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},i=e?e.split("; "):[],o=0;o<i.length;o++){var s=t._getKeyValuePairFromCookieString(i[o]);n[t._cacheKeyPrefix+s.key]===r&&(n[t._cacheKeyPrefix+s.key]=s.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");return t=0>t?e.length:t,{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="cookies.js",n="1"===t.set(e,1).get(e);return t.expire(e),n},t.enabled=t._areEnabled(),t},s="object"==typeof t.document?o(t):o;"function"==typeof e&&e.amd?e(function(){return s}):"object"==typeof i?("object"==typeof n&&"object"==typeof n.exports&&(i=n.exports=s),i.Cookies=s):t.Cookies=s}("undefined"==typeof window?this:window)},{}],"/home/dirigaray/projects/pestle/node_modules/imager.js/Imager.js":[function(t,n,i){!function(t,r){"use strict";function o(e,t){for(var n=0,i=e.length,r=[];i>n;n++)r[n]=t(e[n],n);return r}function s(e){return e}function a(e,t){var n=this,i=r;t=t||{},void 0!==e&&("string"==typeof e?(t.selector=e,e=void 0):"undefined"==typeof e.length&&(t=e,e=void 0)),this.imagesOffScreen=[],this.viewportHeight=i.documentElement.clientHeight,this.selector=t.selector||".delayed-image-load",this.className=t.className||"image-replace",this.gif=i.createElement("img"),this.gif.src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7",this.gif.className=this.className,this.gif.alt="",this.scrollDelay=t.scrollDelay||250,this.onResize=t.hasOwnProperty("onResize")?t.onResize:!0,this.lazyload=t.hasOwnProperty("lazyload")?t.lazyload:!1,this.scrolled=!1,this.availablePixelRatios=t.availablePixelRatios||[1,2],this.availableWidths=t.availableWidths||c,this.onImagesReplaced=t.onImagesReplaced||function(){},this.widthsMap={},this.refreshPixelRatio(),this.widthInterpolator=t.widthInterpolator||s,this.deltaSquare=t.deltaSquare||1.5,this.squareSelector=t.squareSelector||"sqrcrop",this.adaptSelector=this.adaptSelector||"adapt",this.allowedExtensions=["jpg","bmp","png","jpeg"],this.gif.removeAttribute("height"),this.gif.removeAttribute("width"),"function"!=typeof this.availableWidths&&("number"==typeof this.availableWidths.length?this.widthsMap=a.createWidthsMap(this.availableWidths,this.widthInterpolator):(this.widthsMap=this.availableWidths,this.availableWidths=u(this.availableWidths)),this.availableWidths=this.availableWidths.sort(function(e,t){return e-t})),e?(this.divs=o(e,s),this.selector=null):this.divs=o(i.querySelectorAll(this.selector),s),this.changeDivsToEmptyImages(),l(function(){n.init()})}var c,u,l,f,p;l=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},p=function(){return Object.prototype.hasOwnProperty.call(r.createElement("img"),"naturalWidth")?function(e){return e.naturalWidth}:function(e){var t=r.createElement("img");return t.src=e.src,t.width}}(),f=function(){return r.addEventListener?function(e,t,n){return e.addEventListener(t,n,!1)}:function(e,t,n){return e.attachEvent("on"+t,n)}}(),c=[96,130,165,200,235,270,304,340,375,410,445,485,520,555,590,625,660,695,736],u="function"==typeof Object.keys?Object.keys:function(e){var t,n=[];for(t in e)n.push(t);return n},a.prototype.scrollCheck=function(){this.scrolled&&(this.imagesOffScreen.length||t.clearInterval(this.interval),this.divs=this.imagesOffScreen.slice(0),this.imagesOffScreen.length=0,this.changeDivsToEmptyImages(),this.scrolled=!1)},a.prototype.init=function(){this.initialized=!0,this.checkImagesNeedReplacing(this.divs),this.onResize&&this.registerResizeEvent(),this.lazyload&&this.registerScrollEvent()},a.prototype.createGif=function(e){if(e.className.match(new RegExp("(^| )"+this.className+"( |$)")))return e;var t=e.getAttribute("data-class"),n=e.getAttribute("data-width"),i=this.gif.cloneNode(!1);n&&(i.width=n,i.setAttribute("data-width",n)),i.className=(t?t+" ":"")+this.className,i.setAttribute("data-src",e.getAttribute("data-src")),i.setAttribute("alt",e.getAttribute("data-alt")||this.gif.alt),i.setAttribute("itemprop",e.getAttribute("data-itemprop")||"contentUrl");var r=e.getAttribute("data-title");return r&&i.setAttribute("title",r),e.parentNode.replaceChild(i,e),i},a.prototype.changeDivsToEmptyImages=function(){var e=this;o(this.divs,function(t,n){e.lazyload?e.isThisElementOnScreen(t)?e.divs[n]=e.createGif(t):e.imagesOffScreen.push(t):e.divs[n]=e.createGif(t)}),this.initialized&&this.checkImagesNeedReplacing(this.divs)},a.prototype.isThisElementOnScreen=function(e){var t=a.getPageOffset(),n=0;if(e.offsetParent)do n+=e.offsetTop;while(e=e.offsetParent);return n<this.viewportHeight+t?!0:!1},a.prototype.checkImagesNeedReplacing=function(e){var t=this;this.isResizing||(this.isResizing=!0,this.refreshPixelRatio(),o(e,function(e){t.replaceImagesBasedOnScreenDimensions(e)}),this.isResizing=!1,this.onImagesReplaced(e))},a.prototype.replaceImagesBasedOnScreenDimensions=function(e){var t,n,i;i=p(e),t="function"==typeof this.availableWidths?this.availableWidths(e):this.determineAppropriateResolution(e),e.width=t,e.src!==this.gif.src&&i>=t||(n=this.isExtensionAllowed(e)?this.changeImageSrcToUseNewImageDimensions(this.buildUrlStructure(e.getAttribute("data-src"),e),t):this.removeModifiersfromImageSrc(e.getAttribute("data-src")),e.src=n)},a.prototype.removeModifiersfromImageSrc=function(e){var t=new RegExp("\\/{width}\\/{pixel_ratio}","g");return e.replace(t,"")},a.prototype.isExtensionAllowed=function(e){var t=this.getImageExtension(e);return t?this.allowedExtensions.indexOf(t.toLowerCase())>-1:!1},a.prototype.getImageExtension=function(e){var t=new RegExp("\\/.*\\.(.*)\\/{width}\\/{pixel_ratio}?","gi"),n=t.exec(e.getAttribute("data-src"));return n?n[1]:""},a.prototype.determineAppropriateResolution=function(e){return a.getClosestValue(e.getAttribute("data-width")||e.parentNode.clientWidth,this.availableWidths)},a.prototype.refreshPixelRatio=function(){this.devicePixelRatio=a.getClosestValue(a.getPixelRatio(),this.availablePixelRatios)},a.prototype.changeImageSrcToUseNewImageDimensions=function(e,t){return e.replace(/{width}/g,a.transforms.width(t,this.widthsMap)).replace(/{pixel_ratio}/g,a.transforms.pixelRatio(this.devicePixelRatio))},a.prototype.buildUrlStructure=function(e,t){var n=this.isImageContainerSquare(t)?"."+this.squareSelector:"",i=new RegExp("\\.("+this.allowedExtensions.join("|")+")\\/({width})\\/({pixel_ratio})?","gi");return e.replace(i,"."+this.adaptSelector+".$2.$3"+n+".$1")},a.prototype.isImageContainerSquare=function(e){return e.parentNode.clientWidth/e.parentNode.clientHeight<=this.deltaSquare},a.getPixelRatio=function(e){return(e||t).devicePixelRatio||1},a.createWidthsMap=function(e,t){for(var n={},i=e.length;i--;)n[e[i]]=t(e[i]);return n},a.transforms={pixelRatio:function(e){return e},width:function(e,t){return t[e]||e}},a.getClosestValue=function(e,t){var n=t.length,i=t[n-1];for(e=parseFloat(e,10);n--;)e<=t[n]&&(i=t[n]);return i},a.prototype.registerResizeEvent=function(){var e=this;f(t,"resize",function(){e.checkImagesNeedReplacing(e.divs)})},a.prototype.registerScrollEvent=function(){var e=this;this.scrolled=!1,this.interval=t.setInterval(function(){e.scrollCheck()},e.scrollDelay),f(t,"scroll",function(){e.scrolled=!0})},a.getPageOffsetGenerator=function(e){return e?function(){return t.pageYOffset}:function(){return r.documentElement.scrollTop}},a.getPageOffset=a.getPageOffsetGenerator(Object.prototype.hasOwnProperty.call(t,"pageYOffset")),a.applyEach=o,"object"==typeof n&&"object"==typeof n.exports?n.exports=i=a:"function"==typeof e&&e.amd?e(function(){return a}):"object"==typeof t&&(t.Imager=a)}(window,document)},{}],"/home/dirigaray/projects/pestle/node_modules/ismobilejs/isMobile.js":[function(t,n){!function(t){var i=/iPhone/i,r=/iPod/i,o=/iPad/i,s=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,c=/IEMobile/i,u=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,l=/BlackBerry/i,f=/BB10/i,p=/Opera Mini/i,d=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,h=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),g=function(e,t){return e.test(t)},m=function(e){var t=e||navigator.userAgent;return this.apple={phone:g(i,t),ipod:g(r,t),tablet:g(o,t),device:g(i,t)||g(r,t)||g(o,t)},this.android={phone:g(s,t),tablet:!g(s,t)&&g(a,t),device:g(s,t)||g(a,t)},this.windows={phone:g(c,t),tablet:g(u,t),device:g(c,t)||g(u,t)},this.other={blackberry:g(l,t),blackberry10:g(f,t),opera:g(p,t),firefox:g(d,t),device:g(l,t)||g(f,t)||g(p,t)||g(d,t)},this.seven_inch=g(h,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},v=function(){var e=new m;return e.Class=m,e};"undefined"!=typeof n&&n.exports&&"undefined"==typeof window?n.exports=m:"undefined"!=typeof n&&n.exports&&"undefined"!=typeof window?n.exports=v():"function"==typeof e&&e.amd?e(t.isMobile=v()):t.isMobile=v()}(this)},{}],"/home/dirigaray/projects/pestle/node_modules/loglevel/lib/loglevel.js":[function(t,n){!function(i,r){"object"==typeof n&&n.exports&&"function"==typeof t?n.exports=r():"function"==typeof e&&"object"==typeof e.amd?e(r):i.log=r()}(this,function(){function e(e){return typeof console===c?!1:void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):a}function t(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(i){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function n(e,t){return function(){typeof console!==c&&(i(t),s[e].apply(s,arguments))}}function i(e){for(var t=0;t<u.length;t++){var n=u[t];s[n]=e>t?a:s.methodFactory(n,e)}}function r(e){var t=(u[e]||"silent").toUpperCase();try{return void(window.localStorage.loglevel=t)}catch(n){}try{window.document.cookie="loglevel="+t+";"}catch(n){}}function o(){var e;try{e=window.localStorage.loglevel}catch(t){}if(typeof e===c)try{e=/loglevel=([^;]+)/.exec(window.document.cookie)[1]}catch(t){}void 0===s.levels[e]&&(e="WARN"),s.setLevel(s.levels[e])}var s={},a=function(){},c="undefined",u=["trace","debug","info","warn","error"];s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=function(t,i){return e(t)||n(t,i)},s.setLevel=function(e){if("string"==typeof e&&void 0!==s.levels[e.toUpperCase()]&&(e=s.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;return r(e),i(e),typeof console===c&&e<s.levels.SILENT?"No console available for logging":void 0},s.enableAll=function(){s.setLevel(s.levels.TRACE)},s.disableAll=function(){s.setLevel(s.levels.SILENT)};var l=typeof window!==c?window.log:void 0;return s.noConflict=function(){return typeof window!==c&&window.log===s&&(window.log=l),s},o(),s})},{}],"/home/dirigaray/projects/pestle/node_modules/raven-js/dist/raven.js":[function(t,n,i){!function(t,r){"use strict";function o(e,t){var n,i;t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e);for(i in t)h(t,i)&&(n[i]=t[i]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(r){}}function s(e){this.name="RavenConfigError",this.message=e}function a(e){var t=G.exec(e),n={},i=7;try{for(;i--;)n[X[i]]=t[i]||""}catch(r){throw new s("Invalid DSN: "+e)}if(n.pass)throw new s("Do not specify your private key in the DSN!");return n}function c(e){return"undefined"==typeof e}function u(e){return"function"==typeof e}function l(e){return"string"==typeof e}function f(e){return"object"==typeof e&&null!==e}function p(e){for(var t in e)return!1;return!0}function d(e){return f(e)&&"[object Error]"===H.toString.call(e)||e instanceof Error}function h(e,t){return H.hasOwnProperty.call(e,t)}function g(e,t){var n,i;if(c(e.length))for(n in e)h(e,n)&&t.call(null,n,e[n]);else if(i=e.length)for(n=0;i>n;n++)t.call(null,n,e[n])}function m(){F="?sentry_version=4&sentry_client=raven-js/"+Y.VERSION+"&sentry_key="+D}function v(e,t){var n=[];e.stack&&e.stack.length&&g(e.stack,function(e,t){var i=y(t);i&&n.push(i)}),o("handle",{stackInfo:e,options:t}),w(e.name,e.message,e.url,e.lineno,n,t)}function y(e){if(e.url){var t,n={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"},i=x(e);if(i){var r=["pre_context","context_line","post_context"];for(t=3;t--;)n[r[t]]=i[t]}return n.in_app=!(!K.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n["function"])||/raven\.(min\.)?js$/.test(n.filename)),n}}function x(e){if(e.context&&K.fetchContext){for(var t=e.context,n=~~(t.length/2),i=t.length,r=!1;i--;)if(t[i].length>300){r=!0;break}if(r){if(c(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}}function w(e,t,n,i,r,o){var s,a;t+="",("Error"!==e||t)&&(K.ignoreErrors.test(t)||(r&&r.length?(n=r[0].filename||n,r.reverse(),s={frames:r}):n&&(s={frames:[{filename:n,lineno:i,in_app:!0}]}),t=E(t,K.maxMessageLength),K.ignoreUrls&&K.ignoreUrls.test(n)||(!K.whitelistUrls||K.whitelistUrls.test(n))&&(a=i?t+" at "+i:t,A(b({exception:{type:e,value:t},stacktrace:s,culprit:n,message:a},o)))))}function b(e,t){return t?(g(t,function(t,n){e[t]=n}),e):e}function E(e,t){return e.length<=t?e:e.substr(0,t)+"…"}function _(){return+new Date}function j(){var e={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};return document.referrer&&(e.headers.Referer=document.referrer),e}function A(e){k()&&(e=b({project:W,logger:K.logger,platform:"javascript",request:j()},e),e.tags=b(b({},K.tags),e.tags),e.extra=b(b({},K.extra),e.extra),e.extra=b({"session:duration":_()-B},e.extra),p(e.tags)&&delete e.tags,$&&(e.user=$),K.release&&(e.release=K.release),u(K.dataCallback)&&(e=K.dataCallback(e)),(!u(K.shouldSendCallback)||K.shouldSendCallback(e))&&(N=e.event_id||(e.event_id=S()),C(e)))}function C(e){var t=new Image,n=M+F+"&sentry_data="+encodeURIComponent(JSON.stringify(e));t.crossOrigin="anonymous",t.onload=function(){o("success",{data:e,src:n})},t.onerror=t.onabort=function(){o("failure",{data:e,src:n})},t.src=n}function k(){return q?M?!0:(I("error","Error: Raven has not been configured."),!1):!1}function R(e){for(var t,n=[],i=0,r=e.length;r>i;i++)t=e[i],l(t)?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function S(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}function I(e,n){t.console&&console[e]&&Y.debug&&console[e](n)}function O(){var e=t.RavenConfig;e&&Y.config(e.dsn,e.config).install()}var z={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7},P=[].slice,L="?";z.wrap=function(e){function t(){try{return e.apply(this,arguments)}catch(t){throw z.report(t),t}}return t},z.report=function(){function e(e){a(),d.push(e)}function n(e){for(var t=d.length-1;t>=0;--t)d[t]===e&&d.splice(t,1)}function i(){c(),d=[]}function o(e,t){var n=null;if(!t||z.collectWindowErrors){for(var i in d)if(h(d,i))try{d[i].apply(null,[e].concat(P.call(arguments,2)))}catch(r){n=r}if(n)throw n}}function s(e,t,n,i,r){var s=null;if(v)z.computeStackTrace.augmentStackTraceWithInitialElement(v,t,n,e),u();else if(r)s=z.computeStackTrace(r),o(s,!0);else{var a={url:t,line:n,column:i};a.func=z.computeStackTrace.guessFunctionName(a.url,a.line),a.context=z.computeStackTrace.gatherContext(a.url,a.line),s={message:e,url:document.location.href,stack:[a]},o(s,!0)}return f?f.apply(this,arguments):!1}function a(){p||(f=t.onerror,t.onerror=s,p=!0)}function c(){p&&(t.onerror=f,p=!1,f=r)}function u(){var e=v,t=g;g=null,v=null,m=null,o.apply(null,[e,!1].concat(t))}function l(e,n){var i=P.call(arguments,1);if(v){if(m===e)return;u()}var r=z.computeStackTrace(e);if(v=r,m=e,g=i,t.setTimeout(function(){m===e&&u()},r.incomplete?2e3:0),n!==!1)throw e}var f,p,d=[],g=null,m=null,v=null;return l.subscribe=e,l.unsubscribe=n,l.uninstall=i,l}(),z.computeStackTrace=function(){function e(e){if(!z.remoteFetching)return"";try{var n=function(){try{return new t.XMLHttpRequest}catch(e){return new t.ActiveXObject("Microsoft.XMLHTTP")}},i=n();return i.open("GET",e,!1),i.send(""),i.responseText}catch(r){return""}}function n(t){if(!l(t))return[];if(!h(w,t)){var n="";-1!==t.indexOf(document.domain)&&(n=e(t)),w[t]=n?n.split("\n"):[]}return w[t]}function i(e,t){var i,r=/function ([^(]*)\(([^)]*)\)/,o=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,s="",a=10,u=n(e);if(!u.length)return L;for(var l=0;a>l;++l)if(s=u[t-l]+s,!c(s)){if(i=o.exec(s))return i[1];if(i=r.exec(s))return i[1]}return L}function r(e,t){var i=n(e);if(!i.length)return null;var r=[],o=Math.floor(z.linesOfContext/2),s=o+z.linesOfContext%2,a=Math.max(0,t-o-1),u=Math.min(i.length,t+s-1);t-=1;for(var l=a;u>l;++l)c(i[l])||r.push(i[l]);return r.length>0?r:null}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function s(e){return o(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function a(e,t){for(var i,r,o=0,s=t.length;s>o;++o)if((i=n(t[o])).length&&(i=i.join("\n"),r=e.exec(i)))return{url:t[o],line:i.substring(0,r.index).split("\n").length,column:r.index-i.lastIndexOf("\n",r.index)-1};return null}function u(e,t,i){var r,s=n(t),a=new RegExp("\\b"+o(e)+"\\b");return i-=1,s&&s.length>i&&(r=a.exec(s[i]))?r.index:null}function f(e){for(var n,i,r,c,u=[t.location.href],l=document.getElementsByTagName("script"),f=""+e,p=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,d=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,h=0;h<l.length;++h){var g=l[h];g.src&&u.push(g.src)}if(r=p.exec(f)){var m=r[1]?"\\s+"+r[1]:"",v=r[2].split(",").join("\\s*,\\s*");n=o(r[3]).replace(/;$/,";?"),i=new RegExp("function"+m+"\\s*\\(\\s*"+v+"\\s*\\)\\s*{\\s*"+n+"\\s*}")}else i=new RegExp(o(f).replace(/\s+/g,"\\s+"));if(c=a(i,u))return c;if(r=d.exec(f)){var y=r[1];if(n=s(r[2]),i=new RegExp("on"+y+"=[\\'\"]\\s*"+n+"\\s*[\\'\"]","i"),c=a(i,u[0]))return c;if(i=new RegExp(n),c=a(i,u))return c}return null}function p(e){if(!e.stack)return null;for(var t,n,o=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?@((?:file|https?|chrome).*?):(\d+)(?::(\d+))?\s*$/i,a=e.stack.split("\n"),l=[],f=/^(.*) is undefined$/.exec(e.message),p=0,d=a.length;d>p;++p){if(t=s.exec(a[p]))n={url:t[3],func:t[1]||L,args:t[2]?t[2].split(","):"",line:+t[4],column:t[5]?+t[5]:null};else{if(!(t=o.exec(a[p])))continue;n={url:t[2],func:t[1]||L,line:+t[3],column:t[4]?+t[4]:null}}!n.func&&n.line&&(n.func=i(n.url,n.line)),n.line&&(n.context=r(n.url,n.line)),l.push(n)}return l.length?(l[0].line&&!l[0].column&&f?l[0].column=u(f[1],l[0].url,l[0].line):l[0].column||c(e.columnNumber)||(l[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:document.location.href,stack:l}):null}function d(e){for(var t,n=e.stacktrace,o=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,s=n.split("\n"),a=[],c=0,u=s.length;u>c;c+=2)if(t=o.exec(s[c])){var l={line:+t[1],column:+t[2],func:t[3]||t[4],args:t[5]?t[5].split(","):[],url:t[6]};if(!l.func&&l.line&&(l.func=i(l.url,l.line)),l.line)try{l.context=r(l.url,l.line)}catch(f){}l.context||(l.context=[s[c+1]]),a.push(l)}return a.length?{name:e.name,message:e.message,url:document.location.href,stack:a}:null}function g(e){var o=e.message.split("\n");if(o.length<4)return null;var c,u,l,f,p=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,d=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,g=/^\s*Line (\d+) of function script\s*$/i,m=[],v=document.getElementsByTagName("script"),y=[];for(u in v)h(v,u)&&!v[u].src&&y.push(v[u]);for(u=2,l=o.length;l>u;u+=2){var x=null;if(c=p.exec(o[u]))x={url:c[2],func:c[3],line:+c[1]};else if(c=d.exec(o[u])){x={url:c[3],func:c[4]};var w=+c[1],b=y[c[2]-1];if(b&&(f=n(x.url))){f=f.join("\n");var E=f.indexOf(b.innerText);E>=0&&(x.line=w+f.substring(0,E).split("\n").length)}}else if(c=g.exec(o[u])){var _=t.location.href.replace(/#.*$/,""),j=c[1],A=new RegExp(s(o[u+1]));f=a(A,[_]),x={url:_,line:f?f.line:j,func:""}}if(x){x.func||(x.func=i(x.url,x.line));var C=r(x.url,x.line),k=C?C[Math.floor(C.length/2)]:null;x.context=C&&k.replace(/^\s*/,"")===o[u+1].replace(/^\s*/,"")?C:[o[u+1]],m.push(x)}}return m.length?{name:e.name,message:o[0],url:document.location.href,stack:m}:null}function m(e,t,n,o){var s={url:t,line:n};if(s.url&&s.line){e.incomplete=!1,s.func||(s.func=i(s.url,s.line)),s.context||(s.context=r(s.url,s.line));var a=/ '([^']+)' /.exec(o);if(a&&(s.column=u(a[1],s.url,s.line)),e.stack.length>0&&e.stack[0].url===s.url){if(e.stack[0].line===s.line)return!1;if(!e.stack[0].line&&e.stack[0].func===s.func)return e.stack[0].line=s.line,e.stack[0].context=s.context,!1}return e.stack.unshift(s),e.partial=!0,!0}return e.incomplete=!0,!1}function v(e,t){for(var n,r,o,s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],c={},l=!1,p=v.caller;p&&!l;p=p.caller)if(p!==y&&p!==z.report){if(r={url:null,func:L,line:null,column:null},p.name?r.func=p.name:(n=s.exec(p.toString()))&&(r.func=n[1]),o=f(p)){r.url=o.url,r.line=o.line,r.func===L&&(r.func=i(r.url,r.line));var d=/ '([^']+)' /.exec(e.message||e.description);d&&(r.column=u(d[1],o.url,o.line))}c[""+p]?l=!0:c[""+p]=!0,a.push(r)}t&&a.splice(0,t);var h={name:e.name,message:e.message,url:document.location.href,stack:a};return m(h,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),h}function y(e,t){var n=null;t=null==t?0:+t;try{if(n=d(e))return n}catch(i){if(x)throw i}try{if(n=p(e))return n}catch(i){if(x)throw i}try{if(n=g(e))return n}catch(i){if(x)throw i}try{if(n=v(e,t+1))return n}catch(i){if(x)throw i}return{}}var x=!1,w={};return y.augmentStackTraceWithInitialElement=m,y.computeStackTraceFromStackProp=p,y.guessFunctionName=i,y.gatherContext=r,y}();var T,N,M,$,D,W,F,U=t.Raven,q=!("object"!=typeof JSON||!JSON.stringify),K={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,tags:{},maxMessageLength:100,extra:{}},V=!1,H=Object.prototype,B=_(),Y={VERSION:"1.1.18",debug:!0,noConflict:function(){return t.Raven=U,Y},config:function(e,t){if(M)return I("error","Error: Raven has already been configured"),Y;if(!e)return Y;var n=a(e),i=n.path.lastIndexOf("/"),r=n.path.substr(1,i);return t&&g(t,function(e,t){K[e]=t}),K.ignoreErrors.push(/^Script error\.?$/),K.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),K.ignoreErrors=R(K.ignoreErrors),K.ignoreUrls=K.ignoreUrls.length?R(K.ignoreUrls):!1,K.whitelistUrls=K.whitelistUrls.length?R(K.whitelistUrls):!1,K.includePaths=R(K.includePaths),D=n.user,W=n.path.substr(i+1),M="//"+n.host+(n.port?":"+n.port:"")+"/"+r+"api/"+W+"/store/",n.protocol&&(M=n.protocol+":"+M),K.fetchContext&&(z.remoteFetching=!0),K.linesOfContext&&(z.linesOfContext=K.linesOfContext),z.collectWindowErrors=!!K.collectWindowErrors,m(),Y},install:function(){return k()&&!V&&(z.report.subscribe(v),V=!0),Y},context:function(e,t,n){return u(e)&&(n=t||[],t=e,e=r),Y.wrap(e,t).apply(this,n)},wrap:function(e,t){function n(){for(var n=[],i=arguments.length,r=!e||e&&e.deep!==!1;i--;)n[i]=r?Y.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,n)}catch(o){throw Y.captureException(o,e),o}}if(c(t)&&!u(e))return e;if(u(e)&&(t=e,e=r),!u(t))return t;if(t.__raven__)return t;for(var i in t)h(t,i)&&(n[i]=t[i]);return n.__raven__=!0,n.__inner__=t,n},uninstall:function(){return z.report.uninstall(),V=!1,Y},captureException:function(e,t){if(!d(e))return Y.captureMessage(e,t);T=e;try{z.report(e,t)}catch(n){if(e!==n)throw n}return Y},captureMessage:function(e,t){return K.ignoreErrors.test&&K.ignoreErrors.test(e)?void 0:(A(b({message:e+""},t)),Y)},setUserContext:function(e){return $=e,Y},setExtraContext:function(e){return K.extra=e||{},Y},setTagsContext:function(e){return K.tags=e||{},Y},setReleaseContext:function(e){return K.release=e,Y},lastException:function(){return T},lastEventId:function(){return N},isSetup:function(){return k()}};Y.setUser=Y.setUserContext;var X="source protocol user pass host port path".split(" "),G=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;s.prototype=new Error,s.prototype.constructor=s,O(),"function"==typeof e&&e.amd?(t.Raven=Y,e("raven",[],function(){return Y})):"object"==typeof n?n.exports=Y:"object"==typeof i?i=Y:t.Raven=Y}(window)},{}],"/home/dirigaray/projects/pestle/node_modules/verge/verge.js":[function(e,t){!function(e,n,i){"undefined"!=typeof t&&t.exports?t.exports=i():e[n]=i()}(this,"verge",function(){function e(){return{width:l(),height:f()}}function t(e,t){var n={};return t=+t||0,n.width=(n.right=e.right+t)-(n.left=e.left-t),n.height=(n.bottom=e.bottom+t)-(n.top=e.top-t),n}function n(e,n){return e=e&&!e.nodeType?e[0]:e,e&&1===e.nodeType?t(e.getBoundingClientRect(),n):!1}function i(t){t=null==t?e():1===t.nodeType?n(t):t;var i=t.height,r=t.width;return i="function"==typeof i?i.call(t):i,r="function"==typeof r?r.call(t):r,r/i}var r={},o="undefined"!=typeof window&&window,s="undefined"!=typeof document&&document,a=s&&s.documentElement,c=o.matchMedia||o.msMatchMedia,u=c?function(e){return!!c.call(o,e).matches}:function(){return!1},l=r.viewportW=function(){var e=a.clientWidth,t=o.innerWidth;return t>e?t:e},f=r.viewportH=function(){var e=a.clientHeight,t=o.innerHeight;return t>e?t:e};return r.mq=u,r.matchMedia=c?function(){return c.apply(o,arguments)}:function(){return{}},r.viewport=e,r.scrollX=function(){return o.pageXOffset||a.scrollLeft},r.scrollY=function(){return o.pageYOffset||a.scrollTop
},r.rectangle=n,r.aspect=i,r.inX=function(e,t){var i=n(e,t);return!!i&&i.right>=0&&i.left<=l()},r.inY=function(e,t){var i=n(e,t);return!!i&&i.bottom>=0&&i.top<=f()},r.inViewport=function(e,t){var i=n(e,t);return!!i&&i.bottom>=0&&i.right>=0&&i.top<=f()&&i.left<=l()},r})},{}],"/home/dirigaray/projects/pestle/node_modules/wolfy87-eventemitter/EventEmitter.js":[function(t,n){(function(){"use strict";function t(){}function i(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function r(e){return function(){return this[e].apply(this,arguments)}}var o=t.prototype,s=this,a=s.EventEmitter;o.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},o.addListener=function(e,t){var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===i(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},o.on=r("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=r("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(n=i(o[r],t),-1!==n&&o[r].splice(n,1));return this},o.off=r("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},o.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},o.removeAllListeners=r("removeEvent"),o.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},o.trigger=r("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=a,t},"function"==typeof e&&e.amd?e(function(){return t}):"object"==typeof n&&n.exports?n.exports=t:s.EventEmitter=t}).call(this)},{}],"/home/dirigaray/projects/pestle/src/base.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i,r,o;return o=[{name:"jQuery",required:"1.10",obj:t.$,version:t.$?t.$.fn.jquery:0},{name:"Underscore",required:"1.7.0",obj:t._,version:t._?t._.VERSION:0}],r=e("./util/versionchecker.coffee"),r.check(o),n.log=e("./util/logger.coffee"),n.device=e("./util/devicedetection.coffee"),n.cookies=e("./util/cookies.coffee"),n.vp=e("./util/viewportdetection.coffee"),n.Imager=e("imager.js"),n.Events=e("./util/eventbus.coffee"),i=e("./util/general.coffee"),n.util=t._.extend(i,t._),n})},{"./util/cookies.coffee":"/home/dirigaray/projects/pestle/src/util/cookies.coffee","./util/devicedetection.coffee":"/home/dirigaray/projects/pestle/src/util/devicedetection.coffee","./util/eventbus.coffee":"/home/dirigaray/projects/pestle/src/util/eventbus.coffee","./util/general.coffee":"/home/dirigaray/projects/pestle/src/util/general.coffee","./util/logger.coffee":"/home/dirigaray/projects/pestle/src/util/logger.coffee","./util/versionchecker.coffee":"/home/dirigaray/projects/pestle/src/util/versionchecker.coffee","./util/viewportdetection.coffee":"/home/dirigaray/projects/pestle/src/util/viewportdetection.coffee","imager.js":"/home/dirigaray/projects/pestle/node_modules/imager.js/Imager.js"}],"/home/dirigaray/projects/pestle/src/extension/components.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(){var t,n,i;return t=e("./../base.coffee"),i=e("./../util/module.coffee"),n=function(){function e(){}return e.initializedComponents={},e.startAll=function(n,r,o){var s,a;return null==n&&(n="body"),null==o&&(o=Pestle.modules),a=e.parse(n,r.config.namespace),s=t.util.clone(a),t.log.info("Parsed components"),t.log.debug(s),t.util.isEmpty(a)||t.util.each(o,function(e,n){return t.util.isFunction(e)?void 0:i.extend(n,e)}),t.util.extend(o,Pestle.Module.list),e.instantiate(a,r),{all:e.initializedComponents,"new":s}},e.parse=function(n,i){var r,o,s;return o=[],t.util.isArray(i)?s=i:t.util.isString(i)&&(s=i.split(",")),r=[],t.util.each(s,function(e){return r.push("[data-"+e+"-component]")}),$(n).find(r.join(",")).each(function(n,r){var a,c;return $(r).data("pestle-guid")?void 0:(a=function(){return i="",t.util.each(s,function(e){return $(r).data(e+"-component")?i=e:void 0}),i}(),c=e.parseComponentOptions(this,a),o.push({name:c.name,options:c}))}),o},e.parseComponentOptions=function(n,i,r){var o,s,a,c;return c=t.util.clone(r||{}),c.el=n,o=$(n).data(),a="",s=0,t.util.each(o,function(e,t){return t=t.replace(new RegExp("^"+i),""),t=t.charAt(0).toLowerCase()+t.slice(1),"component"!==t?(c[t]=e,s++):a=e}),c.length=s+1,e.buildOptionsObject(a,c)},e.buildOptionsObject=function(e,t){return t.name=e,t},e.instantiate=function(n,i){var r,o,s,a;return n.length>0?(r=n.shift(),!t.util.isEmpty(Pestle.modules)&&Pestle.modules[r.name]&&r.options&&(o=Pestle.modules[r.name],a=i.createSandbox(r.name),r.options.guid=t.util.uniqueId(r.name+"_"),r.options.__defaults__=i.config.component[r.name],s=new o({sandbox:a,options:r.options}),s.initialize(),$(r.options.el).data("pestle-guid",r.options.guid),e.initializedComponents[r.options.guid]=s),e.instantiate(n,i)):void 0},e}(),{initialize:function(e){var i;return t.log.info("[ext] Component extension initialized"),i={},e.sandbox.startComponents=function(e,t){return i=n.startAll(e,t)},e.sandbox.getInitializedComponents=function(){return i.all},e.sandbox.getLastestInitializedComponents=function(){return i["new"]}},afterAppStarted:function(e,n){var i;return t.log.info("Calling startComponents from afterAppStarted"),i=e?e:null,n.sandbox.startComponents(i,n)},name:"Component Extension",classes:n,optionKey:"components"}})},{"./../base.coffee":"/home/dirigaray/projects/pestle/src/base.coffee","./../util/module.coffee":"/home/dirigaray/projects/pestle/src/util/module.coffee"}],"/home/dirigaray/projects/pestle/src/extension/responsivedesign.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(){var t,n;return t=e("./../base.coffee"),n=function(){function e(e){null==e&&(e={}),t.util.bindAll(this,"_init","detectDevice","_checkViewport","_attachWindowHandlers","getDevice","_resizeHandler"),this.config=t.util.extend({},this.cfg,e),this._init()}return e.prototype.cfg={waitLimit:300,windowResizeEvent:!0,breakpoints:[{name:"mobile",bpmin:0,bpmax:767},{name:"tablet",bpmin:768,bpmax:959},{name:"desktop",bpmin:960}]},e.prototype._init=function(){return this.config.windowResizeEvent&&this._attachWindowHandlers(),this.detectDevice()},e.prototype._attachWindowHandlers=function(){var e;return e=t.util.debounce(this._resizeHandler,this.config.waitLimit),$(window).resize(e)},e.prototype._resizeHandler=function(){return Pestle.emit("rwd:windowresize"),this.detectDevice()},e.prototype.detectDevice=function(){var e,n,i,r,o,s,a,c;return n=this.config.breakpoints,a=t.vp.viewportW(),c=this._checkViewport(a,n),t.util.isEmpty(c)?(o="[ext] The passed settings to the Responsive Design Extension might not be correct since we haven't been able to detect an asociated breakpoint to the current viewport",t.log.warn(o)):(i=t.util.string.capitalize(c.name),t.util.isFunction(t.device["is"+i])&&(e=t.device["is"+i]),s=!1,t.util.isFunction(e)&&(s=e()),s||c.name?(r="rwd:"+c.name.toLowerCase(),t.log.info("[ext] Responsive Design extension is triggering the following"),t.log.info(r),Pestle.emit(r),this.device=c.name.toLowerCase()):void 0)},e.prototype.getDevice=function(){return this.device},e.prototype._checkViewport=function(e,n){var i;return i=t.util.filter(n,function(t){return e>=t.bpmin?t.bpmax&&0!==t.bpmax?e<=t.bpmax?!0:!1:!0:!1}),i.length>0?i.shift():{}},e}(),{initialize:function(e){var i,r;return t.log.info("[ext] Responsive Design Extension initialized"),i={},e.config.extension&&e.config.extension[this.optionKey]&&(i=t.util.defaults({},e.config.extension[this.optionKey])),r=new n(i),e.sandbox.rwd=function(){return r.detectDevice()},e.sandbox.rwd.getDevice=function(){return r.getDevice()}},afterAppInitialized:function(e){return t.log.info("afterAppInitialized method from ResponsiveDesign"),e.sandbox.rwd()},name:"Responsive Design Extension",optionKey:"responsivedesign"}})},{"./../base.coffee":"/home/dirigaray/projects/pestle/src/base.coffee"}],"/home/dirigaray/projects/pestle/src/extension/responsiveimages.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(){var t,n;return t=e("./../base.coffee"),n=function(){function e(e){null==e&&(e={}),t.util.bindAll(this,"_init","_createListeners","_createInstance"),this.config=t.util.extend({},this.cfg,e),this._init()}return e.prototype.cfg={availableWidths:[133,152,162,225,210,224,280,352,470,536,590,676,710,768,885,945,1190],availablePixelRatios:[1,2,3],defaultSelector:".delayed-image-load",lazymode:!0},e.prototype._init=function(){return this.config.lazymode&&this._createListeners(),this._createInstance()},e.prototype._createListeners=function(){return Pestle.on("responsiveimages:create",this._createInstance)},e.prototype._createInstance=function(e){var n,i;return null==e&&(e={}),t.log.info("[ext] Responsive Images Extension creating a new Imager instance"),i=e.selector||this.config.defaultSelector,n=t.util.isEmpty(e)?this.config:e,new t.Imager(i,n)},e}(),{initialize:function(e){var i;return t.log.info("[ext] Responsive Images Extension initialized"),i={},e.config.extension&&e.config.extension[this.optionKey]&&(i=t.util.defaults({},e.config.extension[this.optionKey])),e.sandbox.responsiveimages=function(){var e;return e=new n(i),Pestle.emit("responsiveimages:initialized")}},afterAppInitialized:function(e){return t.log.info("afterAppInitialized method from ResponsiveImages"),e.sandbox.responsiveimages()},name:"Responsive Images Extension",optionKey:"responsiveimages"}})},{"./../base.coffee":"/home/dirigaray/projects/pestle/src/base.coffee"}],"/home/dirigaray/projects/pestle/src/util/cookies.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i;return i=e("cookies-js"),n={set:function(e,t,n){return i.set(e,t,n)},get:function(e){return i.get(e)},expire:function(e,t){return i.expire(e,t)}}})},{"cookies-js":"/home/dirigaray/projects/pestle/node_modules/cookies-js/src/cookies.js"}],"/home/dirigaray/projects/pestle/src/util/devicedetection.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i;return i=e("ismobilejs"),n={isMobile:function(){return i.phone},isTablet:function(){return i.tablet},isIphone:function(){return i.apple.phone},isIpod:function(){return i.apple.ipod},isIpad:function(){return i.apple.tablet},isApple:function(){return i.apple.device},isAndroidPhone:function(){return i.android.phone},isAndroidTablet:function(){return i.android.tablet},isAndroidDevice:function(){return i.android.device},isWindowsPhone:function(){return i.windows.phone},isWindowsTablet:function(){return i.windows.tablet},isWindowsDevice:function(){return i.windows.device}}})},{ismobilejs:"/home/dirigaray/projects/pestle/node_modules/ismobilejs/isMobile.js"}],"/home/dirigaray/projects/pestle/src/util/eventbus.coffee":[function(e,t){var n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;!function(e,n){return t.exports=n(e,{})}(window,function(t,i){var r;return r=e("wolfy87-eventemitter"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t}(r)})},{"wolfy87-eventemitter":"/home/dirigaray/projects/pestle/node_modules/wolfy87-eventemitter/EventEmitter.js"}],"/home/dirigaray/projects/pestle/src/util/extmanager.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i;return i=e("../base.coffee"),n=function(){function e(){this._extensions=[],this._initializedExtensions=[]}return e.prototype._extensionConfigDefaults={activated:!0},e.prototype.add=function(e){var t;return e.name||(t="The extension doesn't have a name associated. It will be hepfull if you have assing all of your extensions a name for better debugging",i.log.warn(t)),i.util.each(this._extensions,function(t){if(_.isEqual(t,e))throw new Error("Extension: "+e.name+" already exists.")}),this._extensions.push(e)},e.prototype.init=function(e){var t;return t=i.util.clone(this._extensions),i.log.info("Added extensions (still not initialized):"),i.log.debug(t),this._initExtension(this._extensions,e),i.log.info("Initialized extensions:"),i.log.debug(this._initializedExtensions)},e.prototype._initExtension=function(e,t){var n;return e.length>0?(n=e.shift(),this._isExtensionAllowedToBeActivated(n,t.config)?(n.activated=!0,n.initialize(t),this._initializedExtensions.push(n)):n.activated=!1,this._initExtension(e,t)):void 0},e.prototype._isExtensionAllowedToBeActivated=function(e,t){var n,r;if(!e.optionKey)throw r="The optionKey is required and was not defined by: "+e.name,i.log.error(r),new Error(r);return n=t.extension&&t.extension[e.optionKey]&&t.extension[e.optionKey].hasOwnProperty("activated")?t.extension[e.optionKey].activated:this._extensionConfigDefaults.activated},e.prototype.getInitializedExtensions=function(){return this._initializedExtensions},e.prototype.getInitializedExtensionByName=function(e){return i.util.where(this._initializedExtensions,{optionKey:e})},e.prototype.getExtensions=function(){return this._extensions},e.prototype.getExtensionByName=function(e){return i.util.where(this._extensions,{optionKey:e})},e}()})},{"../base.coffee":"/home/dirigaray/projects/pestle/src/base.coffee"}],"/home/dirigaray/projects/pestle/src/util/general.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(e,t){return t={versionCompare:function(e,t,n){var i,r,o,s,a,c;if(r=function(e){return(o?/^\d+[A-Za-z]*$/:/^\d+$/).test(e)},o=n&&n.lexicographical,c=n&&n.zeroExtend,s=e.split("."),a=t.split("."),!s.every(r)||!a.every(r))return 0/0;if(c){for(;s.length<a.length;)s.push("0");for(;a.length<s.length;)a.push("0")}for(o||(s=s.map(Number),a=a.map(Number)),i=-1;i<s.length;){if(i++,a.length<i)return 1;if(s[i]!==a[i]){if(s[i]>a[i])return 1;if(a[i]>s[i])return-1}}return s.length!==a.length?-1:0},string:{capitalize:function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}}})},{}],"/home/dirigaray/projects/pestle/src/util/logger.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i,r;return i=e("loglevel"),r=e("./sentry.coffee"),n={setLevel:function(e){return i.setLevel(e)},setConfig:function(e){return i.setLevel(e.logLevel),e.sentry?r.initialize(e.sentry):void 0},trace:function(e){return i.trace(e)},debug:function(e){return i.debug(e)},info:function(e){return i.info(e)},warn:function(e){return i.warn(e)},error:function(e){return i.error(e),r.sendMessage(e)}}})},{"./sentry.coffee":"/home/dirigaray/projects/pestle/src/util/sentry.coffee",loglevel:"/home/dirigaray/projects/pestle/node_modules/loglevel/lib/loglevel.js"}],"/home/dirigaray/projects/pestle/src/util/module.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i,r,o;return i=e("../base.coffee"),n=function(){function e(e){this.sandbox=e.sandbox,this.options=e.options,this.setElement()}return e}(),r=function(){function e(){}return e.list={},e.add=function(e,t){return this.extend(e,t,n)},e.get=function(e){return i.util.isString(e)&&this.list[e]?this.list[e]:void 0},e.extend=function(e,t,r){var s,a,c,u;if(i.util.isString(e)&&i.util.isObject(t)){if(r)if(i.util.isString(r)){if(s=this.list[r],!s)throw u="[Module/ "+e(0/0+r+"] which does not exist"),i.log.error(u),new Error(u);r=s}else i.util.isFunction(r)&&(r=r);else r=n;return a=o.call(r,t),i.util.has(this.list,e)?(u="[Component:"+e+"] have already been defined",i.log.warn(u),this):(c=o.call(r,t),this.list[e]=c,c)}},e}(),i.util.extend(n.prototype,i.Events,{initialize:function(){var e;return e="[Component/"+this.options.name+"]:Doesn't have an initialize method defined",i.log.warn(e)},setElement:function(){return this.undelegateEvents(),this.el=this.options.el,this.$el=$(this.el),this.delegateEvents()},delegateEvents:function(e){var t,n,r,o;if(t=/^(\S+)\s*(.*)$/,e||(e=i.util.result(this,"events"))){this.undelegateEvents();for(n in e)o=e[n],i.util.isFunction(o)||(o=this[e[n]]),o&&(r=n.match(t),this.delegate(r[1],r[2],i.util.bind(o,this)));return this}},delegate:function(e,t,n){return this.$el.on(e+".pestleEvent"+this.options.guid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".pestleEvent"+this.options.guid),this},stop:function(){return this.undelegateEvents(),this.$el?this.$el.remove():void 0}}),o=function(e,t){var n,r,o;return o=this,r=e&&i.util.has(e,"constructor")?e.constructor:function(){return o.apply(this,arguments)},i.util.extend(r,o,t),n=function(){this.constructor=r},n.prototype=o.prototype,r.prototype=new n,e&&i.util.extend(r.prototype,e),r.prototype._super_=o.prototype.initialize,r},r.Module=n,r})},{"../base.coffee":"/home/dirigaray/projects/pestle/src/base.coffee"}],"/home/dirigaray/projects/pestle/src/util/sentry.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i;return i=e("raven-js"),n={initialize:function(e){return i.config(e.endPoint,e.options),i.install()},sendMessage:function(e){return i.isSetup()?i.captureMessage(e):void 0}}})},{"raven-js":"/home/dirigaray/projects/pestle/node_modules/raven-js/dist/raven.js"}],"/home/dirigaray/projects/pestle/src/util/versionchecker.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i,r;return r=e("./logger.coffee"),i=e("./general.coffee"),n={check:function(e){var t,o;if(e.length>0){if(t=e.shift(),!t.obj)throw o=t.name+" is a hard dependency and it has to be loaded before pestle.js",r.error(o),new Error(o);if(!(i.versionCompare(t.version,t.required)>=0))throw o="[FAIL] "+t.name+": version required: "+t.required+" <--> Loaded version: "+t.version,r.error(o),new Error(o);return n.check(e)}}}})},{"./general.coffee":"/home/dirigaray/projects/pestle/src/util/general.coffee","./logger.coffee":"/home/dirigaray/projects/pestle/src/util/logger.coffee"}],"/home/dirigaray/projects/pestle/src/util/viewportdetection.coffee":[function(e,t){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i;return i=e("verge"),n={viewportW:function(){return i.viewportW()},viewportH:function(){return i.viewportH()},viewport:function(){return i.viewport()},inViewport:function(e,t){return i.inViewport(e,t)},inX:function(e,t){return i.inX(e,t)},inY:function(e,t){return i.inY(e,t)},scrollX:function(){return i.scrollX()},scrollY:function(){return i.scrollY()},mq:function(e){return i.mq(e)},rectangle:function(e,t){return i.rectangle(e,t)},aspect:function(e){return i.aspect(e)}}})},{verge:"/home/dirigaray/projects/pestle/node_modules/verge/verge.js"}]},{},["./src/core.coffee"])("./src/core.coffee")});