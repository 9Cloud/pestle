!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.pestle=e()}}(function(){var e;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return o(n?n:t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({"./src/core.coffee":[function(e,t,n){!function(e,n){return t.exports=e.Pestle=n(e,{})}(window,function(t,n){var i,o;return i=e("./base.coffee"),o=e("./util/extmanager.coffee"),n=new i.Events,n.Module=e("./util/module.coffee"),n.modules={},n.Core=function(){function t(t){var n,r,s;null==t&&(t={}),this.setConfig(t),this.started=!1,this.extManager=new o,this.sandbox=i.util.clone(i),this.sandboxes={},n=e("./extension/components.coffee"),r=e("./extension/responsivedesign.coffee"),s=e("./extension/responsiveimages.coffee"),this.extManager.add(n),this.extManager.add(r),this.extManager.add(s)}return t.prototype.version="0.0.1",t.prototype.cfg={debug:{logLevel:5},namespace:"platform",extension:{},component:{}},t.prototype.addExtension=function(e){if(this.started)throw i.log.error("The Core has already been started. You can not add new extensions at this point."),new Error("You can not add extensions when the Core has already been started.");return this.extManager.add(e)},t.prototype.setConfig=function(e){var t;if(this.started)throw i.log.error("Pestle has already been started. You can not set up configs at this point."),new Error("You can not set up configs when Pestle has already started.");if(i.util.isObject(e))return this.config=i.util.isEmpty(this.config)?i.util.defaults(e,this.cfg):i.util.defaults(e,this.config);throw t="[setConfig method] only accept an object as a parameter and you're passing: "+typeof e,i.log.error(t),new Error(t)},t.prototype.setComponentConfig=function(e,t){var n;if(this.started)throw i.log.error("Pestle has already been started. You can not add new extensions at this point."),new Error("You can not add extensions when Pestle has already started.");if(!e||!i.util.isString(e))throw n="[setComponentConfig method] 1st param should be a string, you're passing:"+typeof t,i.log.error(n),new Error(n);if(i.util.isObject(t))return i.util.isEmpty(this.config)?(this.config=this.config||{},this.config.component[e]=i.util.defaults(t,this.cfg.component[e])):this.config.component[e]=i.util.defaults(t,this.config.component[e]);throw n="[setComponentConfig method] 2nd param should be an object & you're passing:"+typeof t,i.log.error(n),new Error(n)},t.prototype.start=function(e){var t;return null==e&&(e=""),i.log.setConfig(this.config.debug),this.started&&""!==e?(i.log.info("Pestle is initializing a component"),this.sandbox.startComponents(e,this)):(i.log.info("Pestle started the initializing process"),this.started=!0,this.extManager.init(this),t=$.Callbacks("unique memory"),i.util.each(this.extManager.getInitializedExtensions(),function(n){return function(o,r){return o&&(i.util.isFunction(o.afterAppStarted)&&o.activated&&("components"===o.optionKey?o.afterAppStarted(e,n):o.afterAppStarted(n)),i.util.isFunction(o.afterAppInitialized)&&o.activated)?t.add(o.afterAppInitialized):void 0}}(this)),t.fire(this))},t.prototype.createSandbox=function(e,t){return this.sandboxes[e]=i.util.extend({},this.sandbox,{name:e})},t.prototype.getInitializedComponents=function(){return this.sandbox.getInitializedComponents()},t}(),n})},{"./base.coffee":"/home/ariel/code/pestle/src/base.coffee","./extension/components.coffee":"/home/ariel/code/pestle/src/extension/components.coffee","./extension/responsivedesign.coffee":"/home/ariel/code/pestle/src/extension/responsivedesign.coffee","./extension/responsiveimages.coffee":"/home/ariel/code/pestle/src/extension/responsiveimages.coffee","./util/extmanager.coffee":"/home/ariel/code/pestle/src/util/extmanager.coffee","./util/module.coffee":"/home/ariel/code/pestle/src/util/module.coffee"}],"/home/ariel/code/pestle/node_modules/cookies-js/dist/cookies.js":[function(t,n,i){!function(t,o){"use strict";var r=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,n,i){return 1===arguments.length?t.get(e):t.set(e,n,i)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[t._cacheKeyPrefix+e]},t.set=function(e,n,i){return i=t._getExtendedOptions(i),i.expires=t._getExpiresDate(n===o?-1:i.expires),t._document.cookie=t._generateCookieString(e,n,i),t},t.expire=function(e,n){return t.set(e,o,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&e.secure!==o?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){if(n=n||new Date,"number"==typeof e?e=e===1/0?t._maxExpireDate:new Date(n.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var i=e+"="+t;return i+=n.path?";path="+n.path:"",i+=n.domain?";domain="+n.domain:"",i+=n.expires?";expires="+n.expires.toUTCString():"",i+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},i=e?e.split("; "):[],r=0;r<i.length;r++){var s=t._getKeyValuePairFromCookieString(i[r]);n[t._cacheKeyPrefix+s.key]===o&&(n[t._cacheKeyPrefix+s.key]=s.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");return t=0>t?e.length:t,{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="cookies.js",n="1"===t.set(e,1).get(e);return t.expire(e),n},t.enabled=t._areEnabled(),t},s="object"==typeof t.document?r(t):r;"function"==typeof e&&e.amd?e(function(){return s}):"object"==typeof i?("object"==typeof n&&"object"==typeof n.exports&&(i=n.exports=s),i.Cookies=s):t.Cookies=s}("undefined"==typeof window?this:window)},{}],"/home/ariel/code/pestle/node_modules/imager.js/Imager.js":[function(t,n,i){!function(t,o){"use strict";function r(e,t){for(var n=0,i=e.length,o=[];i>n;n++)o[n]=t(e[n],n);return o}function s(e){return e}function a(e,t){var n=this,i=o;t=t||{},void 0!==e&&("string"==typeof e?(t.selector=e,e=void 0):"undefined"==typeof e.length&&(t=e,e=void 0)),this.imagesOffScreen=[],this.viewportHeight=i.documentElement.clientHeight,this.selector=t.selector||".delayed-image-load",this.className=t.className||"image-replace",this.gif=i.createElement("img"),this.gif.src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7",this.gif.className=this.className,this.gif.alt="",this.scrollDelay=t.scrollDelay||250,this.onResize=t.hasOwnProperty("onResize")?t.onResize:!0,this.lazyload=t.hasOwnProperty("lazyload")?t.lazyload:!1,this.scrolled=!1,this.availablePixelRatios=t.availablePixelRatios||[1,2],this.availableWidths=t.availableWidths||c,this.onImagesReplaced=t.onImagesReplaced||function(){},this.widthsMap={},this.refreshPixelRatio(),this.widthInterpolator=t.widthInterpolator||s,this.deltaSquare=t.deltaSquare||1.5,this.squareSelector=t.squareSelector||"sqrcrop",this.adaptSelector=this.adaptSelector||"adapt",this.allowedExtensions=["jpg","bmp","png","jpeg"],this.gif.removeAttribute("height"),this.gif.removeAttribute("width"),"function"!=typeof this.availableWidths&&("number"==typeof this.availableWidths.length?this.widthsMap=a.createWidthsMap(this.availableWidths,this.widthInterpolator):(this.widthsMap=this.availableWidths,this.availableWidths=l(this.availableWidths)),this.availableWidths=this.availableWidths.sort(function(e,t){return e-t})),e?(this.divs=r(e,s),this.selector=null):this.divs=r(i.querySelectorAll(this.selector),s),this.changeDivsToEmptyImages(),u(function(){n.init()})}var c,l,u,f,p;u=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},p=function(){return Object.prototype.hasOwnProperty.call(o.createElement("img"),"naturalWidth")?function(e){return e.naturalWidth}:function(e){var t=o.createElement("img");return t.src=e.src,t.width}}(),f=function(){return o.addEventListener?function(e,t,n){return e.addEventListener(t,n,!1)}:function(e,t,n){return e.attachEvent("on"+t,n)}}(),c=[96,130,165,200,235,270,304,340,375,410,445,485,520,555,590,625,660,695,736],l="function"==typeof Object.keys?Object.keys:function(e){var t,n=[];for(t in e)n.push(t);return n},a.prototype.scrollCheck=function(){this.scrolled&&(this.imagesOffScreen.length||t.clearInterval(this.interval),this.divs=this.imagesOffScreen.slice(0),this.imagesOffScreen.length=0,this.changeDivsToEmptyImages(),this.scrolled=!1)},a.prototype.init=function(){this.initialized=!0,this.checkImagesNeedReplacing(this.divs),this.onResize&&this.registerResizeEvent(),this.lazyload&&this.registerScrollEvent()},a.prototype.createGif=function(e){if(e.className.match(new RegExp("(^| )"+this.className+"( |$)")))return e;var t=e.getAttribute("data-class"),n=e.getAttribute("data-width"),i=this.gif.cloneNode(!1);n&&(i.width=n,i.setAttribute("data-width",n)),i.className=(t?t+" ":"")+this.className,i.setAttribute("data-src",e.getAttribute("data-src")),i.setAttribute("alt",e.getAttribute("data-alt")||this.gif.alt),i.setAttribute("itemprop",e.getAttribute("data-itemprop")||"contentUrl");var o=e.getAttribute("data-title");return o&&i.setAttribute("title",o),e.parentNode.replaceChild(i,e),i},a.prototype.changeDivsToEmptyImages=function(){var e=this;r(this.divs,function(t,n){e.lazyload?e.isThisElementOnScreen(t)?e.divs[n]=e.createGif(t):e.imagesOffScreen.push(t):e.divs[n]=e.createGif(t)}),this.initialized&&this.checkImagesNeedReplacing(this.divs)},a.prototype.isThisElementOnScreen=function(e){var t=a.getPageOffset(),n=0;if(e.offsetParent)do n+=e.offsetTop;while(e=e.offsetParent);return n<this.viewportHeight+t?!0:!1},a.prototype.checkImagesNeedReplacing=function(e){var t=this;this.isResizing||(this.isResizing=!0,this.refreshPixelRatio(),r(e,function(e){t.replaceImagesBasedOnScreenDimensions(e)}),this.isResizing=!1,this.onImagesReplaced(e))},a.prototype.replaceImagesBasedOnScreenDimensions=function(e){var t,n,i;i=p(e),t="function"==typeof this.availableWidths?this.availableWidths(e):this.determineAppropriateResolution(e),e.width=t,e.src!==this.gif.src&&i>=t||(n=this.isExtensionAllowed(e)?this.changeImageSrcToUseNewImageDimensions(this.buildUrlStructure(e.getAttribute("data-src"),e),t):this.removeModifiersfromImageSrc(e.getAttribute("data-src")),e.src=n)},a.prototype.removeModifiersfromImageSrc=function(e){var t=new RegExp("\\/{width}\\/{pixel_ratio}","g");return e.replace(t,"")},a.prototype.isExtensionAllowed=function(e){var t=this.getImageExtension(e);return t?this.allowedExtensions.indexOf(t.toLowerCase())>-1:!1},a.prototype.getImageExtension=function(e){var t=new RegExp("\\/.*\\.(.*)\\/{width}\\/{pixel_ratio}?","gi"),n=t.exec(e.getAttribute("data-src"));return n?n[1]:""},a.prototype.determineAppropriateResolution=function(e){return a.getClosestValue(e.getAttribute("data-width")||e.parentNode.clientWidth,this.availableWidths)},a.prototype.refreshPixelRatio=function(){this.devicePixelRatio=a.getClosestValue(a.getPixelRatio(),this.availablePixelRatios)},a.prototype.changeImageSrcToUseNewImageDimensions=function(e,t){return e.replace(/{width}/g,a.transforms.width(t,this.widthsMap)).replace(/{pixel_ratio}/g,a.transforms.pixelRatio(this.devicePixelRatio))},a.prototype.buildUrlStructure=function(e,t){var n=this.isImageContainerSquare(t)?"."+this.squareSelector:"",i=new RegExp("\\.("+this.allowedExtensions.join("|")+")\\/({width})\\/({pixel_ratio})?","gi");return e.replace(i,"."+this.adaptSelector+".$2.$3"+n+".$1")},a.prototype.isImageContainerSquare=function(e){return e.parentNode.clientWidth/e.parentNode.clientHeight<=this.deltaSquare},a.getPixelRatio=function(e){return(e||t).devicePixelRatio||1},a.createWidthsMap=function(e,t){for(var n={},i=e.length;i--;)n[e[i]]=t(e[i]);return n},a.transforms={pixelRatio:function(e){return e},width:function(e,t){return t[e]||e}},a.getClosestValue=function(e,t){var n=t.length,i=t[n-1];for(e=parseFloat(e,10);n--;)e<=t[n]&&(i=t[n]);return i},a.prototype.registerResizeEvent=function(){var e=this;f(t,"resize",function(){e.checkImagesNeedReplacing(e.divs)})},a.prototype.registerScrollEvent=function(){var e=this;this.scrolled=!1,this.interval=t.setInterval(function(){e.scrollCheck()},e.scrollDelay),f(t,"scroll",function(){e.scrolled=!0})},a.getPageOffsetGenerator=function(e){return e?function(){return t.pageYOffset}:function(){return o.documentElement.scrollTop}},a.getPageOffset=a.getPageOffsetGenerator(Object.prototype.hasOwnProperty.call(t,"pageYOffset")),a.applyEach=r,"object"==typeof n&&"object"==typeof n.exports?n.exports=i=a:"function"==typeof e&&e.amd?e(function(){return a}):"object"==typeof t&&(t.Imager=a)}(window,document)},{}],"/home/ariel/code/pestle/node_modules/ismobilejs/isMobile.js":[function(t,n,i){!function(t){var i=/iPhone/i,o=/iPod/i,r=/iPad/i,s=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,c=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,l=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,u=/IEMobile/i,f=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,p=/BlackBerry/i,d=/BB10/i,h=/Opera Mini/i,g=/(CriOS|Chrome)(?=.*\bMobile\b)/i,m=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,v=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),x=function(e,t){return e.test(t)},w=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");return"undefined"!=typeof n[1]&&(t=n[0]),this.apple={phone:x(i,t),ipod:x(o,t),tablet:!x(i,t)&&x(r,t),device:x(i,t)||x(o,t)||x(r,t)},this.amazon={phone:x(c,t),tablet:!x(c,t)&&x(l,t),device:x(c,t)||x(l,t)},this.android={phone:x(c,t)||x(s,t),tablet:!x(c,t)&&!x(s,t)&&(x(l,t)||x(a,t)),device:x(c,t)||x(l,t)||x(s,t)||x(a,t)},this.windows={phone:x(u,t),tablet:x(f,t),device:x(u,t)||x(f,t)},this.other={blackberry:x(p,t),blackberry10:x(d,t),opera:x(h,t),firefox:x(m,t),chrome:x(g,t),device:x(p,t)||x(d,t)||x(h,t)||x(m,t)||x(g,t)},this.seven_inch=x(v,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},y=function(){var e=new w;return e.Class=w,e};"undefined"!=typeof n&&n.exports&&"undefined"==typeof window?n.exports=w:"undefined"!=typeof n&&n.exports&&"undefined"!=typeof window?n.exports=y():"function"==typeof e&&e.amd?e("isMobile",[],t.isMobile=y()):t.isMobile=y()}(this)},{}],"/home/ariel/code/pestle/node_modules/loglevel/lib/loglevel.js":[function(t,n,i){!function(i,o){"object"==typeof n&&n.exports&&"function"==typeof t?n.exports=o():"function"==typeof e&&"object"==typeof e.amd?e(o):i.log=o()}(this,function(){function e(e){return typeof console===c?!1:void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):a}function t(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(i){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function n(e,t){return function(){typeof console!==c&&(i(t),s[e].apply(s,arguments))}}function i(e){for(var t=0;t<l.length;t++){var n=l[t];s[n]=e>t?a:s.methodFactory(n,e)}}function o(e){var t=(l[e]||"silent").toUpperCase();try{return void(window.localStorage.loglevel=t)}catch(n){}try{window.document.cookie="loglevel="+t+";"}catch(n){}}function r(){var e;try{e=window.localStorage.loglevel}catch(t){}if(typeof e===c)try{e=/loglevel=([^;]+)/.exec(window.document.cookie)[1]}catch(t){}void 0===s.levels[e]&&(e="WARN"),s.setLevel(s.levels[e],!1)}var s={},a=function(){},c="undefined",l=["trace","debug","info","warn","error"];s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=function(t,i){return e(t)||n(t,i)},s.setLevel=function(e,t){if("string"==typeof e&&void 0!==s.levels[e.toUpperCase()]&&(e=s.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;return t!==!1&&o(e),i(e),typeof console===c&&e<s.levels.SILENT?"No console available for logging":void 0},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var u=typeof window!==c?window.log:void 0;return s.noConflict=function(){return typeof window!==c&&window.log===s&&(window.log=u),s},r(),s})},{}],"/home/ariel/code/pestle/node_modules/raven-js/dist/raven.js":[function(t,n,i){!function(t,o){"use strict";function r(e,t){var n,i;t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e);for(i in t)h(t,i)&&(n[i]=t[i]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(o){}}function s(e){this.name="RavenConfigError",this.message=e}function a(e){var t=J.exec(e),n={},i=7;try{for(;i--;)n[G[i]]=t[i]||""}catch(o){throw new s("Invalid DSN: "+e)}if(n.pass)throw new s("Do not specify your private key in the DSN!");return n}function c(e){return void 0===e}function l(e){return"function"==typeof e}function u(e){return"[object String]"===B.toString.call(e)}function f(e){return"object"==typeof e&&null!==e}function p(e){for(var t in e)return!1;return!0}function d(e){return f(e)&&"[object Error]"===B.toString.call(e)||e instanceof Error}function h(e,t){return B.hasOwnProperty.call(e,t)}function g(e,t){var n,i;if(c(e.length))for(n in e)h(e,n)&&t.call(null,n,e[n]);else if(i=e.length)for(n=0;i>n;n++)t.call(null,n,e[n])}function m(){U="?sentry_version=4&sentry_client=raven-js/"+X.VERSION+"&sentry_key="+M}function v(e,t){var n=[];e.stack&&e.stack.length&&g(e.stack,function(e,t){var i=x(t);i&&n.push(i)}),r("handle",{stackInfo:e,options:t}),y(e.name,e.message,e.url,e.lineno,n,t)}function x(e){if(e.url){var t,n={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"},i=w(e);if(i){var o=["pre_context","context_line","post_context"];for(t=3;t--;)n[o[t]]=i[t]}return n.in_app=!(!V.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n["function"])||/raven\.(min\.)?js$/.test(n.filename)),n}}function w(e){if(e.context&&V.fetchContext){for(var t=e.context,n=~~(t.length/2),i=t.length,o=!1;i--;)if(t[i].length>300){o=!0;break}if(o){if(c(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}}function y(e,t,n,i,o,r){var s,a;t+="",("Error"!==e||t)&&(V.ignoreErrors.test(t)||(o&&o.length?(n=o[0].filename||n,o.reverse(),s={frames:o}):n&&(s={frames:[{filename:n,lineno:i,in_app:!0}]}),t=E(t,V.maxMessageLength),V.ignoreUrls&&V.ignoreUrls.test(n)||(!V.whitelistUrls||V.whitelistUrls.test(n))&&(a=i?t+" at "+i:t,C(b({exception:{type:e,value:t},stacktrace:s,culprit:n,message:a},r)))))}function b(e,t){return t?(g(t,function(t,n){e[t]=n}),e):e}function E(e,t){return e.length<=t?e:e.substr(0,t)+"â€¦"}function _(){return+new Date}function A(){var e={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};return document.referrer&&(e.headers.Referer=document.referrer),e}function C(e){R()&&(e=b({project:$,logger:V.logger,platform:"javascript",request:A()},e),e.tags=b(b({},V.tags),e.tags),e.extra=b(b({},V.extra),e.extra),e.extra=b({"session:duration":_()-Y},e.extra),p(e.tags)&&delete e.tags,W&&(e.user=W),V.release&&(e.release=V.release),l(V.dataCallback)&&(e=V.dataCallback(e)||e),e&&!p(e)&&(!l(V.shouldSendCallback)||V.shouldSendCallback(e))&&(D=e.event_id||(e.event_id=I()),S(e)))}function S(e){var t=k(),n=N+U+"&sentry_data="+encodeURIComponent(JSON.stringify(e));t.crossOrigin="anonymous",t.onload=function(){r("success",{data:e,src:n})},t.onerror=t.onabort=function(){r("failure",{data:e,src:n})},t.src=n}function k(){return document.createElement("img")}function R(){return q?N?!0:(O("error","Error: Raven has not been configured."),!1):!1}function j(e){for(var t,n=[],i=0,o=e.length;o>i;i++)t=e[i],u(t)?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function I(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}function O(e,n){t.console&&console[e]&&X.debug&&console[e](n)}function z(){var e=t.RavenConfig;e&&X.config(e.dsn,e.config).install()}var P={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7},L=[].slice,T="?";P.wrap=function(e){function t(){try{return e.apply(this,arguments)}catch(t){throw P.report(t),t}}return t},P.report=function(){function e(e){a(),d.push(e)}function n(e){for(var t=d.length-1;t>=0;--t)d[t]===e&&d.splice(t,1)}function i(){c(),d=[]}function r(e,t){var n=null;if(!t||P.collectWindowErrors){for(var i in d)if(h(d,i))try{d[i].apply(null,[e].concat(L.call(arguments,2)))}catch(o){n=o}if(n)throw n}}function s(e,t,n,i,o){var s=null;if(v)P.computeStackTrace.augmentStackTraceWithInitialElement(v,t,n,e),l();else if(o)s=P.computeStackTrace(o),r(s,!0);else{var a={url:t,line:n,column:i};a.func=P.computeStackTrace.guessFunctionName(a.url,a.line),a.context=P.computeStackTrace.gatherContext(a.url,a.line),s={message:e,url:document.location.href,stack:[a]},r(s,!0)}return f?f.apply(this,arguments):!1}function a(){p||(f=t.onerror,t.onerror=s,p=!0)}function c(){p&&(t.onerror=f,p=!1,f=o)}function l(){var e=v,t=g;g=null,v=null,m=null,r.apply(null,[e,!1].concat(t))}function u(e,n){var i=L.call(arguments,1);if(v){if(m===e)return;l()}var o=P.computeStackTrace(e);if(v=o,m=e,g=i,t.setTimeout(function(){m===e&&l()},o.incomplete?2e3:0),n!==!1)throw e}var f,p,d=[],g=null,m=null,v=null;return u.subscribe=e,u.unsubscribe=n,u.uninstall=i,u}(),P.computeStackTrace=function(){function e(e){if(!P.remoteFetching)return"";try{var n=function(){try{return new t.XMLHttpRequest}catch(e){return new t.ActiveXObject("Microsoft.XMLHTTP")}},i=n();return i.open("GET",e,!1),i.send(""),i.responseText}catch(o){return""}}function n(t){if(!u(t))return[];if(!h(y,t)){var n="";-1!==t.indexOf(document.domain)&&(n=e(t)),y[t]=n?n.split("\n"):[]}return y[t]}function i(e,t){var i,o=/function ([^(]*)\(([^)]*)\)/,r=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,s="",a=10,l=n(e);if(!l.length)return T;for(var u=0;a>u;++u)if(s=l[t-u]+s,!c(s)){if(i=r.exec(s))return i[1];if(i=o.exec(s))return i[1]}return T}function o(e,t){var i=n(e);if(!i.length)return null;var o=[],r=Math.floor(P.linesOfContext/2),s=r+P.linesOfContext%2,a=Math.max(0,t-r-1),l=Math.min(i.length,t+s-1);t-=1;for(var u=a;l>u;++u)c(i[u])||o.push(i[u]);return o.length>0?o:null}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function s(e){return r(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function a(e,t){for(var i,o,r=0,s=t.length;s>r;++r)if((i=n(t[r])).length&&(i=i.join("\n"),o=e.exec(i)))return{url:t[r],line:i.substring(0,o.index).split("\n").length,column:o.index-i.lastIndexOf("\n",o.index)-1};return null}function l(e,t,i){var o,s=n(t),a=new RegExp("\\b"+r(e)+"\\b");return i-=1,s&&s.length>i&&(o=a.exec(s[i]))?o.index:null}function f(e){for(var n,i,o,c,l=[t.location.href],u=document.getElementsByTagName("script"),f=""+e,p=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,d=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,h=0;h<u.length;++h){var g=u[h];g.src&&l.push(g.src)}if(o=p.exec(f)){var m=o[1]?"\\s+"+o[1]:"",v=o[2].split(",").join("\\s*,\\s*");n=r(o[3]).replace(/;$/,";?"),i=new RegExp("function"+m+"\\s*\\(\\s*"+v+"\\s*\\)\\s*{\\s*"+n+"\\s*}")}else i=new RegExp(r(f).replace(/\s+/g,"\\s+"));if(c=a(i,l))return c;if(o=d.exec(f)){var x=o[1];if(n=s(o[2]),i=new RegExp("on"+x+"=[\\'\"]\\s*"+n+"\\s*[\\'\"]","i"),c=a(i,l[0]))return c;if(i=new RegExp(n),c=a(i,l))return c}return null}function p(e){if(!e.stack)return null;for(var t,n,r=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?@((?:file|https?|chrome).*?):(\d+)(?::(\d+))?\s*$/i,a=e.stack.split("\n"),u=[],f=/^(.*) is undefined$/.exec(e.message),p=0,d=a.length;d>p;++p){if(t=s.exec(a[p]))n={url:t[3],func:t[1]||T,args:t[2]?t[2].split(","):"",line:+t[4],column:t[5]?+t[5]:null};else{if(!(t=r.exec(a[p])))continue;n={url:t[2],func:t[1]||T,line:+t[3],column:t[4]?+t[4]:null}}!n.func&&n.line&&(n.func=i(n.url,n.line)),n.line&&(n.context=o(n.url,n.line)),u.push(n)}return u.length?(u[0].line&&!u[0].column&&f?u[0].column=l(f[1],u[0].url,u[0].line):u[0].column||c(e.columnNumber)||(u[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:document.location.href,stack:u}):null}function d(e){for(var t,n=e.stacktrace,r=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,s=n.split("\n"),a=[],c=0,l=s.length;l>c;c+=2)if(t=r.exec(s[c])){var u={line:+t[1],column:+t[2],func:t[3]||t[4],args:t[5]?t[5].split(","):[],url:t[6]};if(!u.func&&u.line&&(u.func=i(u.url,u.line)),u.line)try{u.context=o(u.url,u.line)}catch(f){}u.context||(u.context=[s[c+1]]),a.push(u)}return a.length?{name:e.name,message:e.message,url:document.location.href,stack:a}:null}function g(e){var r=e.message.split("\n");if(r.length<4)return null;var c,l,u,f,p=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,d=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,g=/^\s*Line (\d+) of function script\s*$/i,m=[],v=document.getElementsByTagName("script"),x=[];for(l in v)h(v,l)&&!v[l].src&&x.push(v[l]);for(l=2,u=r.length;u>l;l+=2){var w=null;if(c=p.exec(r[l]))w={url:c[2],func:c[3],line:+c[1]};else if(c=d.exec(r[l])){w={url:c[3],func:c[4]};var y=+c[1],b=x[c[2]-1];if(b&&(f=n(w.url))){f=f.join("\n");var E=f.indexOf(b.innerText);E>=0&&(w.line=y+f.substring(0,E).split("\n").length)}}else if(c=g.exec(r[l])){var _=t.location.href.replace(/#.*$/,""),A=c[1],C=new RegExp(s(r[l+1]));f=a(C,[_]),w={url:_,line:f?f.line:A,func:""}}if(w){w.func||(w.func=i(w.url,w.line));var S=o(w.url,w.line),k=S?S[Math.floor(S.length/2)]:null;w.context=S&&k.replace(/^\s*/,"")===r[l+1].replace(/^\s*/,"")?S:[r[l+1]],m.push(w)}}return m.length?{name:e.name,message:r[0],url:document.location.href,stack:m}:null}function m(e,t,n,r){var s={url:t,line:n};if(s.url&&s.line){e.incomplete=!1,s.func||(s.func=i(s.url,s.line)),s.context||(s.context=o(s.url,s.line));var a=/ '([^']+)' /.exec(r);if(a&&(s.column=l(a[1],s.url,s.line)),e.stack.length>0&&e.stack[0].url===s.url){if(e.stack[0].line===s.line)return!1;if(!e.stack[0].line&&e.stack[0].func===s.func)return e.stack[0].line=s.line,e.stack[0].context=s.context,!1}return e.stack.unshift(s),e.partial=!0,!0}return e.incomplete=!0,!1}function v(e,t){for(var n,o,r,s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],c={},u=!1,p=v.caller;p&&!u;p=p.caller)if(p!==x&&p!==P.report){if(o={url:null,func:T,line:null,column:null},p.name?o.func=p.name:(n=s.exec(p.toString()))&&(o.func=n[1]),r=f(p)){o.url=r.url,o.line=r.line,o.func===T&&(o.func=i(o.url,o.line));var d=/ '([^']+)' /.exec(e.message||e.description);d&&(o.column=l(d[1],r.url,r.line))}c[""+p]?u=!0:c[""+p]=!0,a.push(o)}t&&a.splice(0,t);var h={name:e.name,message:e.message,url:document.location.href,stack:a};return m(h,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),h}function x(e,t){var n=null;t=null==t?0:+t;try{if(n=d(e))return n}catch(i){if(w)throw i}try{if(n=p(e))return n}catch(i){if(w)throw i}try{if(n=g(e))return n}catch(i){if(w)throw i}try{if(n=v(e,t+1))return n}catch(i){if(w)throw i}return{}}var w=!1,y={};return x.augmentStackTraceWithInitialElement=m,x.computeStackTraceFromStackProp=p,x.guessFunctionName=i,x.gatherContext=o,x}();var F,D,N,W,M,$,U,K=t.Raven,q=!("object"!=typeof JSON||!JSON.stringify),V={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,tags:{},maxMessageLength:100,extra:{}},H=!1,B=Object.prototype,Y=_(),X={VERSION:"1.1.19",debug:!0,noConflict:function(){return t.Raven=K,X},config:function(e,t){if(N)return O("error","Error: Raven has already been configured"),X;if(!e)return X;var n=a(e),i=n.path.lastIndexOf("/"),o=n.path.substr(1,i);return t&&g(t,function(e,t){V[e]=t}),V.ignoreErrors.push(/^Script error\.?$/),V.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),V.ignoreErrors=j(V.ignoreErrors),V.ignoreUrls=V.ignoreUrls.length?j(V.ignoreUrls):!1,V.whitelistUrls=V.whitelistUrls.length?j(V.whitelistUrls):!1,V.includePaths=j(V.includePaths),M=n.user,$=n.path.substr(i+1),N="//"+n.host+(n.port?":"+n.port:"")+"/"+o+"api/"+$+"/store/",n.protocol&&(N=n.protocol+":"+N),V.fetchContext&&(P.remoteFetching=!0),V.linesOfContext&&(P.linesOfContext=V.linesOfContext),P.collectWindowErrors=!!V.collectWindowErrors,m(),X},install:function(){return R()&&!H&&(P.report.subscribe(v),H=!0),X},context:function(e,t,n){return l(e)&&(n=t||[],t=e,e=o),X.wrap(e,t).apply(this,n)},wrap:function(e,t){function n(){for(var n=[],i=arguments.length,o=!e||e&&e.deep!==!1;i--;)n[i]=o?X.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,n)}catch(r){throw X.captureException(r,e),r}}if(c(t)&&!l(e))return e;if(l(e)&&(t=e,e=o),!l(t))return t;if(t.__raven__)return t;for(var i in t)h(t,i)&&(n[i]=t[i]);return n.__raven__=!0,n.__inner__=t,n},uninstall:function(){return P.report.uninstall(),H=!1,X},captureException:function(e,t){if(!d(e))return X.captureMessage(e,t);F=e;try{P.report(e,t)}catch(n){if(e!==n)throw n}return X},captureMessage:function(e,t){return V.ignoreErrors.test&&V.ignoreErrors.test(e)?void 0:(C(b({message:e+""},t)),X)},setUserContext:function(e){return W=e,X},setExtraContext:function(e){return V.extra=e||{},X},setTagsContext:function(e){return V.tags=e||{},X},setReleaseContext:function(e){return V.release=e,X},setDataCallback:function(e){return V.dataCallback=e,X},setShouldSendCallback:function(e){return V.shouldSendCallback=e,X},lastException:function(){return F},lastEventId:function(){return D},isSetup:function(){return R()}};X.setUser=X.setUserContext;var G="source protocol user pass host port path".split(" "),J=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;s.prototype=new Error,s.prototype.constructor=s,z(),"function"==typeof e&&e.amd?(t.Raven=X,e("raven",[],function(){return X})):"object"==typeof n?n.exports=X:"object"==typeof i?i=X:t.Raven=X}("undefined"!=typeof window?window:this)},{}],"/home/ariel/code/pestle/node_modules/verge/verge.js":[function(e,t,n){!function(e,n,i){"undefined"!=typeof t&&t.exports?t.exports=i():e[n]=i()}(this,"verge",function(){function e(){return{width:u(),height:f()}}function t(e,t){var n={};return t=+t||0,n.width=(n.right=e.right+t)-(n.left=e.left-t),n.height=(n.bottom=e.bottom+t)-(n.top=e.top-t),n}function n(e,n){return e=e&&!e.nodeType?e[0]:e,e&&1===e.nodeType?t(e.getBoundingClientRect(),n):!1}function i(t){t=null==t?e():1===t.nodeType?n(t):t;

var i=t.height,o=t.width;return i="function"==typeof i?i.call(t):i,o="function"==typeof o?o.call(t):o,o/i}var o={},r="undefined"!=typeof window&&window,s="undefined"!=typeof document&&document,a=s&&s.documentElement,c=r.matchMedia||r.msMatchMedia,l=c?function(e){return!!c.call(r,e).matches}:function(){return!1},u=o.viewportW=function(){var e=a.clientWidth,t=r.innerWidth;return t>e?t:e},f=o.viewportH=function(){var e=a.clientHeight,t=r.innerHeight;return t>e?t:e};return o.mq=l,o.matchMedia=c?function(){return c.apply(r,arguments)}:function(){return{}},o.viewport=e,o.scrollX=function(){return r.pageXOffset||a.scrollLeft},o.scrollY=function(){return r.pageYOffset||a.scrollTop},o.rectangle=n,o.aspect=i,o.inX=function(e,t){var i=n(e,t);return!!i&&i.right>=0&&i.left<=u()},o.inY=function(e,t){var i=n(e,t);return!!i&&i.bottom>=0&&i.top<=f()},o.inViewport=function(e,t){var i=n(e,t);return!!i&&i.bottom>=0&&i.right>=0&&i.top<=f()&&i.left<=u()},o})},{}],"/home/ariel/code/pestle/node_modules/wolfy87-eventemitter/EventEmitter.js":[function(t,n,i){(function(){"use strict";function t(){}function i(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function o(e){return function(){return this[e].apply(this,arguments)}}var r=t.prototype,s=this,a=s.EventEmitter;r.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,t){var n,o=this.getListenersAsObject(e),r="object"==typeof t;for(n in o)o.hasOwnProperty(n)&&-1===i(o[n],t)&&o[n].push(r?t:{listener:t,once:!1});return this},r.on=o("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=o("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var n,o,r=this.getListenersAsObject(e);for(o in r)r.hasOwnProperty(o)&&(n=i(r[o],t),-1!==n&&r[o].splice(n,1));return this},r.off=o("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},r.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},r.removeAllListeners=o("removeEvent"),r.emitEvent=function(e,t){var n,i,o,r,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(i=s[o].length;i--;)n=s[o][i],n.once===!0&&this.removeListener(e,n.listener),r=n.listener.apply(this,t||[]),r===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=o("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=a,t},"function"==typeof e&&e.amd?e(function(){return t}):"object"==typeof n&&n.exports?n.exports=t:s.EventEmitter=t}).call(this)},{}],"/home/ariel/code/pestle/src/base.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i,o,r;return r=[{name:"jQuery",required:"1.10",obj:t.$,version:t.$?t.$.fn.jquery:0},{name:"Underscore",required:"1.7.0",obj:t._,version:t._?t._.VERSION:0}],o=e("./util/versionchecker.coffee"),o.check(r),n.log=e("./util/logger.coffee"),n.device=e("./util/devicedetection.coffee"),n.cookies=e("./util/cookies.coffee"),n.vp=e("./util/viewportdetection.coffee"),n.Imager=e("imager.js"),n.Events=e("./util/eventbus.coffee"),i=e("./util/general.coffee"),n.util=t._.extend(i,t._),n})},{"./util/cookies.coffee":"/home/ariel/code/pestle/src/util/cookies.coffee","./util/devicedetection.coffee":"/home/ariel/code/pestle/src/util/devicedetection.coffee","./util/eventbus.coffee":"/home/ariel/code/pestle/src/util/eventbus.coffee","./util/general.coffee":"/home/ariel/code/pestle/src/util/general.coffee","./util/logger.coffee":"/home/ariel/code/pestle/src/util/logger.coffee","./util/versionchecker.coffee":"/home/ariel/code/pestle/src/util/versionchecker.coffee","./util/viewportdetection.coffee":"/home/ariel/code/pestle/src/util/viewportdetection.coffee","imager.js":"/home/ariel/code/pestle/node_modules/imager.js/Imager.js"}],"/home/ariel/code/pestle/src/extension/components.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i,o,r;return i=e("./../base.coffee"),r=e("./../util/module.coffee"),o=function(){function e(){}return e.initializedComponents={},e.startAll=function(t,n,o){var s,a;return null==t&&(t="body"),null==o&&(o=Pestle.modules),a=e.parse(t,n.config.namespace),s=i.util.clone(a),i.log.info("Parsed components"),i.log.debug(s),i.util.isEmpty(a)||i.util.each(o,function(e,t){return i.util.isFunction(e)?void 0:r.extend(t,e)}),i.util.extend(o,Pestle.Module.list),e.instantiate(a,n),{all:e.initializedComponents,"new":s}},e.parse=function(t,n){var o,r,s;return r=[],i.util.isArray(n)?s=n:i.util.isString(n)&&(s=n.split(",")),o=[],i.util.each(s,function(e,t){return o.push("[data-"+e+"-component]")}),$(t).find(o.join(",")).each(function(t,o){var a,c;return $(o).data("pestle-guid")?void 0:(a=function(){return n="",i.util.each(s,function(e,t){return $(o).data(e+"-component")?n=e:void 0}),n}(),c=e.parseComponentOptions(this,a),r.push({name:c.name,options:c}))}),r},e.parseComponentOptions=function(t,n,o){var r,s,a,c;return c=i.util.clone(o||{}),c.el=t,r=$(t).data(),a="",s=0,i.util.each(r,function(e,t){return t=t.replace(new RegExp("^"+n),""),t=t.charAt(0).toLowerCase()+t.slice(1),"component"!==t?(c[t]=e,s++):a=e}),c.length=s+1,e.buildOptionsObject(a,c)},e.buildOptionsObject=function(e,t){return t.name=e,t},e.instantiate=function(t,n){var o,r,s,a,c;return t.length>0?(o=t.shift(),!i.util.isEmpty(Pestle.modules)&&Pestle.modules[o.name]&&o.options&&(r=Pestle.modules[o.name],c=n.createSandbox(o.name),a=o.name+"_",o.options.guid=a+i.util.keys(e.initializedComponents).filter(function(e){return i.util.contains(e,a)}).length+1,o.options.__defaults__=n.config.component[o.name],s=new r({sandbox:c,options:o.options}),s.initialize(),$(o.options.el).data("pestle-guid",o.options.guid),e.initializedComponents[o.options.guid]=s),e.instantiate(t,n)):void 0},e}(),{initialize:function(e){var t;return i.log.info("[ext] Component extension initialized"),t={},e.sandbox.startComponents=function(e,n){return t=o.startAll(e,n)},e.sandbox.getInitializedComponents=function(){return t.all},e.sandbox.getLastestInitializedComponents=function(){return t["new"]}},afterAppStarted:function(e,t){var n;return i.log.info("Calling startComponents from afterAppStarted"),n=e?e:null,t.sandbox.startComponents(n,t)},name:"Component Extension",classes:o,optionKey:"components"}})},{"./../base.coffee":"/home/ariel/code/pestle/src/base.coffee","./../util/module.coffee":"/home/ariel/code/pestle/src/util/module.coffee"}],"/home/ariel/code/pestle/src/extension/responsivedesign.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i,o;return i=e("./../base.coffee"),o=function(){function e(e){null==e&&(e={}),i.util.bindAll(this,"_init","detectDevice","_checkViewport","_attachWindowHandlers","getDevice","_resizeHandler"),this.config=i.util.extend({},this.cfg,e),this._init()}return e.prototype.cfg={waitLimit:300,windowResizeEvent:!0,breakpoints:[{name:"mobile",bpmin:0,bpmax:767},{name:"tablet",bpmin:768,bpmax:959},{name:"desktop",bpmin:960}]},e.prototype._init=function(){return this.config.windowResizeEvent&&this._attachWindowHandlers(),this.detectDevice()},e.prototype._attachWindowHandlers=function(){var e;return e=i.util.debounce(this._resizeHandler,this.config.waitLimit),$(window).resize(e)},e.prototype._resizeHandler=function(){return Pestle.emit("rwd:windowresize"),this.detectDevice()},e.prototype.detectDevice=function(){var e,t,n,o,r,s,a,c;return t=this.config.breakpoints,a=i.vp.viewportW(),c=this._checkViewport(a,t),i.util.isEmpty(c)?(r="[ext] The passed settings to the Responsive Design Extension might not be correct since we haven't been able to detect an asociated breakpoint to the current viewport",i.log.warn(r)):(n=i.util.string.capitalize(c.name),i.util.isFunction(i.device["is"+n])&&(e=i.device["is"+n]),s=!1,i.util.isFunction(e)&&(s=e()),s||c.name?(o="rwd:"+c.name.toLowerCase(),i.log.info("[ext] Responsive Design extension is triggering the following"),i.log.info(o),Pestle.emit(o),this.device=c.name.toLowerCase()):void 0)},e.prototype.getDevice=function(){return this.device},e.prototype._checkViewport=function(e,t){var n;return n=i.util.filter(t,function(t){return e>=t.bpmin?t.bpmax&&0!==t.bpmax?e<=t.bpmax?!0:!1:!0:!1}),n.length>0?n.shift():{}},e}(),{initialize:function(e){var t,n;return i.log.info("[ext] Responsive Design Extension initialized"),t={},e.config.extension&&e.config.extension[this.optionKey]&&(t=i.util.defaults({},e.config.extension[this.optionKey])),n=new o(t),e.sandbox.rwd=function(){return n.detectDevice()},e.sandbox.rwd.getDevice=function(){return n.getDevice()}},afterAppInitialized:function(e){return i.log.info("afterAppInitialized method from ResponsiveDesign"),e.sandbox.rwd()},name:"Responsive Design Extension",optionKey:"responsivedesign"}})},{"./../base.coffee":"/home/ariel/code/pestle/src/base.coffee"}],"/home/ariel/code/pestle/src/extension/responsiveimages.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i,o;return i=e("./../base.coffee"),o=function(){function e(e){null==e&&(e={}),i.util.bindAll(this,"_init","_createListeners","_createInstance"),this.config=i.util.extend({},this.cfg,e),this._init()}return e.prototype.cfg={availableWidths:[133,152,162,225,210,224,280,352,470,536,590,676,710,768,885,945,1190],availablePixelRatios:[1,2,3],defaultSelector:".delayed-image-load",lazymode:!0},e.prototype._init=function(){return this.config.lazymode&&this._createListeners(),this._createInstance()},e.prototype._createListeners=function(){return Pestle.on("responsiveimages:create",this._createInstance)},e.prototype._createInstance=function(e){var t,n;return null==e&&(e={}),i.log.info("[ext] Responsive Images Extension creating a new Imager instance"),n=e.selector||this.config.defaultSelector,t=i.util.isEmpty(e)?this.config:e,new i.Imager(n,t)},e}(),{initialize:function(e){var t;return i.log.info("[ext] Responsive Images Extension initialized"),t={},e.config.extension&&e.config.extension[this.optionKey]&&(t=i.util.defaults({},e.config.extension[this.optionKey])),e.sandbox.responsiveimages=function(){var e;return e=new o(t),Pestle.emit("responsiveimages:initialized")}},afterAppInitialized:function(e){return i.log.info("afterAppInitialized method from ResponsiveImages"),e.sandbox.responsiveimages()},name:"Responsive Images Extension",optionKey:"responsiveimages"}})},{"./../base.coffee":"/home/ariel/code/pestle/src/base.coffee"}],"/home/ariel/code/pestle/src/util/cookies.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i;return i=e("cookies-js"),n={set:function(e,t,n){return i.set(e,t,n)},get:function(e){return i.get(e)},expire:function(e,t){return i.expire(e,t)}}})},{"cookies-js":"/home/ariel/code/pestle/node_modules/cookies-js/dist/cookies.js"}],"/home/ariel/code/pestle/src/util/devicedetection.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i;return i=e("ismobilejs"),n={isMobile:function(){return i.phone},isTablet:function(){return i.tablet},isIphone:function(){return i.apple.phone},isIpod:function(){return i.apple.ipod},isIpad:function(){return i.apple.tablet},isApple:function(){return i.apple.device},isAndroidPhone:function(){return i.android.phone},isAndroidTablet:function(){return i.android.tablet},isAndroidDevice:function(){return i.android.device},isWindowsPhone:function(){return i.windows.phone},isWindowsTablet:function(){return i.windows.tablet},isWindowsDevice:function(){return i.windows.device}}})},{ismobilejs:"/home/ariel/code/pestle/node_modules/ismobilejs/isMobile.js"}],"/home/ariel/code/pestle/src/util/eventbus.coffee":[function(e,t,n){var i=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var o;return o=e("wolfy87-eventemitter"),n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t}(o)})},{"wolfy87-eventemitter":"/home/ariel/code/pestle/node_modules/wolfy87-eventemitter/EventEmitter.js"}],"/home/ariel/code/pestle/src/util/extmanager.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i;return i=e("../base.coffee"),n=function(){function e(){this._extensions=[],this._initializedExtensions=[]}return e.prototype._extensionConfigDefaults={activated:!0},e.prototype.add=function(e){var t;return e.name||(t="The extension doesn't have a name associated. It will be hepfull if you have assing all of your extensions a name for better debugging",i.log.warn(t)),i.util.each(this._extensions,function(t,n){if(_.isEqual(t,e))throw new Error("Extension: "+e.name+" already exists.")}),this._extensions.push(e)},e.prototype.init=function(e){var t;return t=i.util.clone(this._extensions),i.log.info("Added extensions (still not initialized):"),i.log.debug(t),this._initExtension(this._extensions,e),i.log.info("Initialized extensions:"),i.log.debug(this._initializedExtensions)},e.prototype._initExtension=function(e,t){var n;return e.length>0?(n=e.shift(),this._isExtensionAllowedToBeActivated(n,t.config)?(n.activated=!0,n.initialize(t),this._initializedExtensions.push(n)):n.activated=!1,this._initExtension(e,t)):void 0},e.prototype._isExtensionAllowedToBeActivated=function(e,t){var n,o;if(!e.optionKey)throw o="The optionKey is required and was not defined by: "+e.name,i.log.error(o),new Error(o);return n=t.extension&&t.extension[e.optionKey]&&t.extension[e.optionKey].hasOwnProperty("activated")?t.extension[e.optionKey].activated:this._extensionConfigDefaults.activated},e.prototype.getInitializedExtensions=function(){return this._initializedExtensions},e.prototype.getInitializedExtensionByName=function(e){return i.util.where(this._initializedExtensions,{optionKey:e})},e.prototype.getExtensions=function(){return this._extensions},e.prototype.getExtensionByName=function(e){return i.util.where(this._extensions,{optionKey:e})},e}()})},{"../base.coffee":"/home/ariel/code/pestle/src/base.coffee"}],"/home/ariel/code/pestle/src/util/general.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(e,t){return t={versionCompare:function(e,t,n){var i,o,r,s,a,c;if(o=function(e){return(r?/^\d+[A-Za-z]*$/:/^\d+$/).test(e)},r=n&&n.lexicographical,c=n&&n.zeroExtend,s=e.split("."),a=t.split("."),!s.every(o)||!a.every(o))return 0/0;if(c){for(;s.length<a.length;)s.push("0");for(;a.length<s.length;)a.push("0")}for(r||(s=s.map(Number),a=a.map(Number)),i=-1;i<s.length;){if(i++,a.length<i)return 1;if(s[i]!==a[i]){if(s[i]>a[i])return 1;if(a[i]>s[i])return-1}}return s.length!==a.length?-1:0},string:{capitalize:function(e){return e=null==e?"":String(e),e.charAt(0).toUpperCase()+e.slice(1)}}}})},{}],"/home/ariel/code/pestle/src/util/logger.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i,o;return i=e("loglevel"),o=e("./sentry.coffee"),n={setLevel:function(e){return i.setLevel(e)},setConfig:function(e){return i.setLevel(e.logLevel),e.sentry?o.initialize(e.sentry):void 0},trace:function(e){return i.trace(e)},debug:function(e){return i.debug(e)},info:function(e){return i.info(e)},warn:function(e){return i.warn(e)},error:function(e){return i.error(e),o.sendMessage(e)}}})},{"./sentry.coffee":"/home/ariel/code/pestle/src/util/sentry.coffee",loglevel:"/home/ariel/code/pestle/node_modules/loglevel/lib/loglevel.js"}],"/home/ariel/code/pestle/src/util/module.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i,o,r;return i=e("../base.coffee"),n=function(){function e(e){this.sandbox=e.sandbox,this.options=e.options,this.setElement()}return e}(),o=function(){function e(){}return e.list={},e.add=function(e,t){return this.extend(e,t,n)},e.get=function(e){return i.util.isString(e)&&this.list[e]?this.list[e]:void 0},e.extend=function(e,t,o){var s,a,c,l;if(i.util.isString(e)&&i.util.isObject(t)){if(o)if(i.util.isString(o)){if(s=this.list[o],!s)throw l="[Module/ "+e(0/0+o+"] which does not exist"),i.log.error(l),new Error(l);o=s}else i.util.isFunction(o)&&(o=o);else o=n;return a=r.call(o,t),i.util.has(this.list,e)?(l="[Component:"+e+"] have already been defined",i.log.warn(l),this):(c=r.call(o,t),this.list[e]=c,c)}},e}(),i.util.extend(n.prototype,i.Events,{initialize:function(){var e;return e="[Component/"+this.options.name+"]:Doesn't have an initialize method defined",i.log.warn(e)},setElement:function(){return this.undelegateEvents(),this.el=this.options.el,this.$el=$(this.el),this.delegateEvents()},delegateEvents:function(e){var t,n,o,r;if(t=/^(\S+)\s*(.*)$/,e||(e=i.util.result(this,"events"))){this.undelegateEvents();for(n in e)r=e[n],i.util.isFunction(r)||(r=this[e[n]]),r&&(o=n.match(t),this.delegate(o[1],o[2],i.util.bind(r,this)));return this}},delegate:function(e,t,n){return this.$el.on(e+".pestleEvent"+this.options.guid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".pestleEvent"+this.options.guid),this},stop:function(){return this.undelegateEvents(),this.$el?this.$el.remove():void 0}}),r=function(e,t){var n,o,r;return r=this,o=e&&i.util.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},i.util.extend(o,r,t),n=function(){this.constructor=o},n.prototype=r.prototype,o.prototype=new n,e&&i.util.extend(o.prototype,e),o.prototype._super_=r.prototype.initialize,o},o.Module=n,o})},{"../base.coffee":"/home/ariel/code/pestle/src/base.coffee"}],"/home/ariel/code/pestle/src/util/sentry.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i;return i=e("raven-js"),n={initialize:function(e){return i.config(e.endPoint,e.options),i.install()},sendMessage:function(e){return i.isSetup()?i.captureMessage(e):void 0}}})},{"raven-js":"/home/ariel/code/pestle/node_modules/raven-js/dist/raven.js"}],"/home/ariel/code/pestle/src/util/versionchecker.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i,o;return o=e("./logger.coffee"),i=e("./general.coffee"),n={check:function(e){var t,r;if(e.length>0){if(t=e.shift(),!t.obj)throw r=t.name+" is a hard dependency and it has to be loaded before pestle.js",o.error(r),new Error(r);if(!(i.versionCompare(t.version,t.required)>=0))throw r="[FAIL] "+t.name+": version required: "+t.required+" <--> Loaded version: "+t.version,o.error(r),new Error(r);return n.check(e)}}}})},{"./general.coffee":"/home/ariel/code/pestle/src/util/general.coffee","./logger.coffee":"/home/ariel/code/pestle/src/util/logger.coffee"}],"/home/ariel/code/pestle/src/util/viewportdetection.coffee":[function(e,t,n){!function(e,n){return t.exports=n(e,{})}(window,function(t,n){var i;return i=e("verge"),n={viewportW:function(){return i.viewportW()},viewportH:function(e){return i.viewportH()},viewport:function(e){return i.viewport()},inViewport:function(e,t){return i.inViewport(e,t)},inX:function(e,t){return i.inX(e,t)},inY:function(e,t){return i.inY(e,t)},scrollX:function(){return i.scrollX()},scrollY:function(){return i.scrollY()},mq:function(e){return i.mq(e)},rectangle:function(e,t){return i.rectangle(e,t)},aspect:function(e){return i.aspect(e)}}})},{verge:"/home/ariel/code/pestle/node_modules/verge/verge.js"}]},{},["./src/core.coffee"])("./src/core.coffee")});